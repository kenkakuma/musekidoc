# é˜¶æ®µ 2 å¼€å‘è®¡åˆ’ï¼šå†…å®¹æ‰©å±•ä¸æ€§èƒ½ä¼˜åŒ–

**é¡¹ç›®åç§°**: Japan Pottery Knowledge Base
**è®¡åˆ’ç‰ˆæœ¬**: 2.0
**åˆ›å»ºæ—¥æœŸ**: 2026-02-25
**ç›®æ ‡å¯åŠ¨æ—¥æœŸ**: 2026-02-26
**é¢„è®¡å®Œæˆæ—¶é—´**: 4-6 å‘¨

---

## ğŸ“‹ ç›®å½•

- [è®¡åˆ’æ¦‚è§ˆ](#è®¡åˆ’æ¦‚è§ˆ)
- [é˜¶æ®µç›®æ ‡](#é˜¶æ®µç›®æ ‡)
- [ç¬¬ä¸€å‘¨è®¡åˆ’](#ç¬¬ä¸€å‘¨è®¡åˆ’-ç¯å¢ƒå¯åŠ¨ä¸æ€§èƒ½ä¼˜åŒ–)
- [ç¬¬äºŒå‘¨è®¡åˆ’](#ç¬¬äºŒå‘¨è®¡åˆ’-åå°åŠŸèƒ½å®Œå–„)
- [ç¬¬ä¸‰-å››å‘¨è®¡åˆ’](#ç¬¬ä¸‰å››å‘¨è®¡åˆ’-å†…å®¹æ‰©å±•ç ”ç©¶)
- [ç¬¬äº”-å…­å‘¨è®¡åˆ’](#ç¬¬äº”å…­å‘¨è®¡åˆ’-é«˜çº§åŠŸèƒ½å¼€å‘)
- [æ‰§è¡ŒæŒ‡å—](#æ‰§è¡ŒæŒ‡å—)
- [éªŒæ”¶æ ‡å‡†](#éªŒæ”¶æ ‡å‡†)

---

## è®¡åˆ’æ¦‚è§ˆ

### å½“å‰çŠ¶æ€
- âœ… é˜¶æ®µ 1 å·²å®Œæˆ (100%)
- âœ… æ ¸å¿ƒåŠŸèƒ½å·²å®ç°
- âœ… å·²å¯¼å…¥ 60ä½ä½œå®¶ + 21ä¸ªé™¶å™¨æ¡ç›®
- âš ï¸ æ•°æ®åº“ç¯å¢ƒå¾…å¯åŠ¨æµ‹è¯•

### é˜¶æ®µ 2 ç›®æ ‡

```
å†…å®¹é‡: 60 â†’ 200-500 æ¡ç›®
æ€§èƒ½: é¦–é¡µåŠ è½½ < 1ç§’ï¼Œè¯¦æƒ…é¡µ < 500ms
åŠŸèƒ½: æ‰¹é‡ç®¡ç† + å®¡æ ¸å·¥ä½œæµ + ç»Ÿè®¡åˆ†æ
è´¨é‡: Lighthouse æ€§èƒ½åˆ†æ•° > 90
```

### æ ¸å¿ƒä»·å€¼
1. **æ€§èƒ½æå‡** - åº”å¯¹å¤§æ•°æ®é‡ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
2. **ç®¡ç†æ•ˆç‡** - æ‰¹é‡ç¼–è¾‘ã€å®¡æ ¸æµç¨‹ã€å†…å®¹è´¨é‡æ§åˆ¶
3. **å†…å®¹å®Œæ•´** - è¦†ç›–æ—¥æœ¬ä¸»è¦é™¶è‰ºäº§åœ°å’Œä½œå®¶
4. **è¿è¥æ´å¯Ÿ** - æ•°æ®ç»Ÿè®¡ã€è¶‹åŠ¿åˆ†æ

---

## é˜¶æ®µç›®æ ‡

### åŠŸèƒ½ç›®æ ‡
- [ ] ISR é™æ€ç”Ÿæˆä¼˜åŒ–
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] æ‰¹é‡ç¼–è¾‘åŠŸèƒ½
- [ ] å†…å®¹å®¡æ ¸å·¥ä½œæµ
- [ ] ç»Ÿè®¡åˆ†æä»ªè¡¨ç›˜
- [ ] é«˜çº§ç­›é€‰åŠŸèƒ½
- [ ] å›¾ç‰‡ä¼˜åŒ–ï¼ˆæ‡’åŠ è½½ã€blur placeholderï¼‰
- [ ] SEO ä¼˜åŒ–

### å†…å®¹ç›®æ ‡
- [ ] å†…å®¹é‡ä» 81 å¢åŠ åˆ° 200-500
- [ ] è¡¥å……è¥¿æ—¥æœ¬ä½œå®¶ï¼ˆ30-50ä½ï¼‰
- [ ] è¡¥å……8ä¸ªç¼ºå¤±çš„ä½œå®¶å…³è”
- [ ] æ·»åŠ ä¸“é¢˜æ¡ç›®ï¼ˆäººé—´å›½å®ã€æ°‘è‰ºè¿åŠ¨ï¼‰
- [ ] æ”¶é›†å’Œä¸Šä¼ å›¾ç‰‡ç´ æ

### æ€§èƒ½ç›®æ ‡
- [ ] é¦–é¡µåŠ è½½æ—¶é—´ < 1ç§’
- [ ] è¯¦æƒ…é¡µåŠ è½½æ—¶é—´ < 500ms
- [ ] Lighthouse æ€§èƒ½åˆ†æ•° > 90
- [ ] æœç´¢å“åº”æ—¶é—´ < 300ms
- [ ] å›¾ç‰‡ä¼˜åŒ–ç‡ > 80%

---

## ç¬¬ä¸€å‘¨è®¡åˆ’ï¼šç¯å¢ƒå¯åŠ¨ä¸æ€§èƒ½ä¼˜åŒ–

**æ—¶é—´**: 2026-02-26 ~ 2026-03-02 (5ä¸ªå·¥ä½œæ—¥)
**ä¸»è¦è´Ÿè´£**: Full-stack Agent
**ä¼˜å…ˆçº§**: ğŸ”´ æœ€é«˜

### Day 1 (2026-02-26): ç¯å¢ƒå¯åŠ¨ä¸åŠŸèƒ½éªŒè¯

#### ä»»åŠ¡ 2.1: å¯åŠ¨æ•°æ®åº“å¹¶å®ŒæˆåŠŸèƒ½æµ‹è¯• âš ï¸ **ç´§æ€¥**

**é¢„è®¡è€—æ—¶**: 2å°æ—¶

**æ­¥éª¤**:

```bash
# 1. å¯åŠ¨ PostgreSQL å®¹å™¨
docker ps -a | grep postgres-pottery
docker start postgres-pottery

# 2. éªŒè¯æ•°æ®åº“è¿æ¥
docker exec -it postgres-pottery psql -U postgres -d pottery_kb -c "\dt"

# 3. æ£€æŸ¥æ•°æ®
docker exec -it postgres-pottery psql -U postgres -d pottery_kb -c "SELECT COUNT(*) FROM \"PotteryEntry\";"
docker exec -it postgres-pottery psql -U postgres -d pottery_kb -c "SELECT COUNT(*) FROM \"Artist\";"

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

**æµ‹è¯•æ¸…å•**:
- [ ] é¦–é¡µåŠ è½½æ­£å¸¸ï¼Œæ˜¾ç¤º 21 ä¸ªé™¶å™¨æ¡ç›®
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸
  - [ ] æœç´¢ "å¤‡å‰" - åº”æ˜¾ç¤ºå¤‡å‰çƒ§æ¡ç›®
  - [ ] æœç´¢ "ä¿¡ä¹" - åº”æ˜¾ç¤ºä¿¡ä¹çƒ§æ¡ç›®
  - [ ] æœç´¢ "å…­å¤çª¯" - åº”æ˜¾ç¤ºç›¸å…³æ¡ç›®
  - [ ] æœç´¢å»ºè®®ä¸‹æ‹‰æ¡†æ˜¾ç¤º
- [ ] è¯¦æƒ…é¡µæ­£å¸¸
  - [ ] è®¿é—® /pottery/bizen-yaki
  - [ ] è®¿é—® /pottery/shigaraki-yaki
  - [ ] å›¾ç‰‡ç”»å»Šæ˜¾ç¤ºï¼ˆå¦‚æœ‰å›¾ç‰‡ï¼‰
- [ ] ä½œå®¶é¡µé¢æ­£å¸¸
  - [ ] è®¿é—® /artists - æ˜¾ç¤º 60 ä½ä½œå®¶
  - [ ] è®¿é—® /artists/kurokawa-toru
  - [ ] ç›¸å…³é™¶å™¨ä½œå“æ˜¾ç¤º
- [ ] åå°åŠŸèƒ½æµ‹è¯•
  - [ ] ç™»å½• /admin/login (å¯†ç : admin123)
  - [ ] ä»ªè¡¨ç›˜ç»Ÿè®¡æ˜¾ç¤ºæ­£ç¡®
  - [ ] æ¡ç›®ç¼–è¾‘å™¨åŠ è½½æ­£å¸¸
  - [ ] æ‰¹é‡å¯¼å…¥åŠŸèƒ½æµ‹è¯•
  - [ ] å¯¼å‡ºåŠŸèƒ½æµ‹è¯• - ä¸‹è½½ JSON æ–‡ä»¶
  - [ ] å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**:
- æ‰€æœ‰åŠŸèƒ½æ­£å¸¸è¿è¡Œï¼Œæ— æŠ¥é”™
- æ•°æ®æ˜¾ç¤ºå®Œæ•´å‡†ç¡®
- æœç´¢è¿”å›æ­£ç¡®ç»“æœ
- å¯¼å‡ºçš„ JSON æ–‡ä»¶æ ¼å¼æ­£ç¡®

**è¾“å‡º**:
- æµ‹è¯•æŠ¥å‘Šæ–‡æ¡£ï¼ˆdocs/test-report-phase1.mdï¼‰
- è®°å½•æ‰€æœ‰å‘ç°çš„é—®é¢˜

---

#### ä»»åŠ¡ 2.2: ä»£ç è´¨é‡æ£€æŸ¥ä¸ä¼˜åŒ–

**é¢„è®¡è€—æ—¶**: 1å°æ—¶

**æ­¥éª¤**:

```bash
# 1. TypeScript ç±»å‹æ£€æŸ¥
pnpm tsc --noEmit

# 2. ESLint æ£€æŸ¥
pnpm lint

# 3. æ£€æŸ¥æœªä½¿ç”¨çš„ä¾èµ–
npx depcheck

# 4. æ£€æŸ¥åŒ…å¤§å°
npx next build
npx @next/bundle-analyzer
```

**ä¼˜åŒ–æ¸…å•**:
- [ ] ä¿®å¤æ‰€æœ‰ TypeScript é”™è¯¯
- [ ] ä¿®å¤æ‰€æœ‰ ESLint è­¦å‘Š
- [ ] ç§»é™¤æœªä½¿ç”¨çš„ä¾èµ–
- [ ] åˆ†æå¹¶ä¼˜åŒ–åŒ…å¤§å°

**éªŒæ”¶æ ‡å‡†**:
- æ—  TypeScript é”™è¯¯
- æ—  ESLint é”™è¯¯
- æ„å»ºæˆåŠŸï¼Œæ— è­¦å‘Š

---

### Day 2 (2026-02-27): ISR ä¼˜åŒ–

#### ä»»åŠ¡ 2.3: å®ç° ISR (Incremental Static Regeneration)

**é¢„è®¡è€—æ—¶**: 4å°æ—¶

**ç›®æ ‡**: ä¼˜åŒ–é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå®ç°é™æ€ç”Ÿæˆ + å¢é‡æ›´æ–°

**å®ç°æ­¥éª¤**:

##### æ­¥éª¤ 1: æ›´æ–°é¦–é¡µå®ç° ISR

**æ–‡ä»¶**: `app/(public)/page.tsx`

```typescript
// æ·»åŠ  revalidate é…ç½®
export const revalidate = 3600; // 1å°æ—¶é‡æ–°éªŒè¯

// ä¿æŒç°æœ‰çš„æœåŠ¡å™¨ç»„ä»¶é€»è¾‘
export default async function HomePage({ searchParams }: HomePageProps) {
  // ... ç°æœ‰ä»£ç 
}
```

##### æ­¥éª¤ 2: ä¼˜åŒ–è¯¦æƒ…é¡µé™æ€ç”Ÿæˆ

**æ–‡ä»¶**: `app/(public)/pottery/[slug]/page.tsx`

```typescript
export const revalidate = 3600; // 1å°æ—¶é‡æ–°éªŒè¯

// é¢„æ¸²æŸ“å‰ 100 ä¸ªçƒ­é—¨æ¡ç›®
export async function generateStaticParams() {
  const entries = await prisma.potteryEntry.findMany({
    where: { published: true },
    select: { slug: true },
    take: 100,
    orderBy: [
      { createdAt: 'desc' }
    ]
  });

  return entries.map((entry) => ({
    slug: entry.slug,
  }));
}

// åŠ¨æ€å‚æ•°å›é€€
export const dynamicParams = true; // å…è®¸åŠ¨æ€ç”Ÿæˆæœªé¢„æ¸²æŸ“çš„é¡µé¢
```

##### æ­¥éª¤ 3: ä¼˜åŒ–ä½œå®¶è¯¦æƒ…é¡µ

**æ–‡ä»¶**: `app/(public)/artists/[slug]/page.tsx`

```typescript
export const revalidate = 3600;

export async function generateStaticParams() {
  // é¢„æ¸²æŸ“ Instagram ç²‰ä¸æ•°å‰ 50 çš„ä½œå®¶
  const artists = await prisma.artist.findMany({
    where: { published: true },
    select: { slug: true },
    take: 50,
    orderBy: [
      { instagramFollowers: 'desc' }
    ]
  });

  return artists.map((artist) => ({
    slug: artist.slug,
  }));
}

export const dynamicParams = true;
```

##### æ­¥éª¤ 4: é…ç½® Next.js ç¼“å­˜

**æ–‡ä»¶**: `next.config.js`

```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    // å¯ç”¨å¢é‡ç¼“å­˜
    incrementalCacheHandlerPath: undefined,
  },

  // å›¾ç‰‡ä¼˜åŒ–é…ç½®
  images: {
    formats: ['image/webp'],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920],
    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],
  },

  // ç”Ÿäº§æ„å»ºä¼˜åŒ–
  swcMinify: true,

  // å‹ç¼©
  compress: true,
};

module.exports = nextConfig;
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ„å»ºæ—¶é¢„æ¸²æŸ“å‰ 100 ä¸ªæ¡ç›®
- [ ] é¦–æ¬¡è®¿é—®è¯¦æƒ…é¡µ < 500ms
- [ ] ç¼“å­˜å‘½ä¸­å < 100ms
- [ ] `pnpm build` æ˜¾ç¤ºé™æ€é¡µé¢æ•°é‡

**æµ‹è¯•**:

```bash
# 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# 2. æŸ¥çœ‹æ„å»ºæŠ¥å‘Š
# åº”æ˜¾ç¤ºç±»ä¼¼:
# â”œ â—‹ /pottery/[slug] (ISR: 3600 Seconds)
# â”‚   â”œ /pottery/bizen-yaki
# â”‚   â”œ /pottery/shigaraki-yaki
# â”‚   â”” ... (100 ä¸ª)

# 3. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start

# 4. æµ‹è¯•åŠ è½½é€Ÿåº¦
# ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…· Network æ ‡ç­¾
# é¦–æ¬¡è®¿é—®åº” < 500ms
# å†æ¬¡è®¿é—®åº” < 100ms (ç¼“å­˜å‘½ä¸­)
```

---

### Day 3 (2026-02-28): æ•°æ®åº“ä¼˜åŒ–

#### ä»»åŠ¡ 2.4: æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–

**é¢„è®¡è€—æ—¶**: 3å°æ—¶

**ç›®æ ‡**: ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½ï¼Œå‡å°‘å“åº”æ—¶é—´

**å®ç°æ­¥éª¤**:

##### æ­¥éª¤ 1: åˆ†æå½“å‰æŸ¥è¯¢

**åˆ›å»º**: `scripts/analyze-queries.ts`

```typescript
import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient({
  log: [
    { emit: 'event', level: 'query' },
  ],
})

async function analyzeQueries() {
  console.log('ğŸ” åˆ†æå¸¸è§æŸ¥è¯¢æ€§èƒ½...\n')

  // 1. åˆ—è¡¨æŸ¥è¯¢ï¼ˆé¦–é¡µï¼‰
  console.time('åˆ—è¡¨æŸ¥è¯¢')
  await prisma.potteryEntry.findMany({
    where: { published: true },
    take: 20,
    orderBy: { createdAt: 'desc' },
  })
  console.timeEnd('åˆ—è¡¨æŸ¥è¯¢')

  // 2. æœç´¢æŸ¥è¯¢
  console.time('æœç´¢æŸ¥è¯¢')
  await prisma.potteryEntry.findMany({
    where: {
      published: true,
      OR: [
        { nameZh: { contains: 'å¤‡å‰' } },
        { nameJa: { contains: 'å‚™å‰' } },
      ]
    }
  })
  console.timeEnd('æœç´¢æŸ¥è¯¢')

  // 3. åˆ†ç±»ç­›é€‰
  console.time('åˆ†ç±»ç­›é€‰')
  await prisma.potteryEntry.findMany({
    where: {
      published: true,
      category: { contains: 'é™¶å™¨' },
    }
  })
  console.timeEnd('åˆ†ç±»ç­›é€‰')

  // 4. ä½œå®¶å…³è”æŸ¥è¯¢
  console.time('ä½œå®¶å…³è”æŸ¥è¯¢')
  await prisma.potteryEntry.findMany({
    where: { published: true },
    include: { artist: true },
    take: 20,
  })
  console.timeEnd('ä½œå®¶å…³è”æŸ¥è¯¢')
}

analyzeQueries()
  .catch(console.error)
  .finally(() => prisma.$disconnect())
```

è¿è¡Œåˆ†æ:
```bash
npx tsx scripts/analyze-queries.ts
```

##### æ­¥éª¤ 2: æ·»åŠ æ•°æ®åº“ç´¢å¼•

**æ–‡ä»¶**: `prisma/schema.prisma`

```prisma
model PotteryEntry {
  // ... ç°æœ‰å­—æ®µ

  // ä¼˜åŒ–åçš„ç´¢å¼•ç­–ç•¥
  @@index([published, createdAt(sort: Desc)])  // é¦–é¡µåˆ—è¡¨æŸ¥è¯¢
  @@index([published, category])               // åˆ†ç±»ç­›é€‰
  @@index([published, region])                 // äº§åœ°ç­›é€‰
  @@index([artistId])                          // ä½œå®¶å…³è”
  @@index([slug])                              // Slug æŸ¥è¯¢
  @@index([nameZh])                            // ä¸­æ–‡åæœç´¢
  @@index([nameJa])                            // æ—¥æ–‡åæœç´¢
}

model Artist {
  // ... ç°æœ‰å­—æ®µ

  @@index([published, instagramFollowers(sort: Desc)])  // çƒ­é—¨ä½œå®¶
  @@index([slug])
  @@index([nameZh])
  @@index([nameJa])
  @@index([instagramHandle])
}
```

##### æ­¥éª¤ 3: è¿è¡Œè¿ç§»

```bash
# åˆ›å»ºè¿ç§»
pnpm prisma migrate dev --name add_performance_indexes

# æ£€æŸ¥ç´¢å¼•æ˜¯å¦åˆ›å»ºæˆåŠŸ
docker exec -it postgres-pottery psql -U postgres -d pottery_kb -c "\di"
```

##### æ­¥éª¤ 4: éªŒè¯æ€§èƒ½æå‡

å†æ¬¡è¿è¡Œåˆ†æè„šæœ¬ï¼Œå¯¹æ¯”ä¼˜åŒ–å‰å:

```bash
npx tsx scripts/analyze-queries.ts
```

**é¢„æœŸç»“æœ**:
- åˆ—è¡¨æŸ¥è¯¢: < 50ms
- æœç´¢æŸ¥è¯¢: < 100ms
- åˆ†ç±»ç­›é€‰: < 50ms
- å…³è”æŸ¥è¯¢: < 100ms

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰ç´¢å¼•åˆ›å»ºæˆåŠŸ
- [ ] æŸ¥è¯¢æ—¶é—´å‡å°‘ 50% ä»¥ä¸Š
- [ ] API å“åº”æ—¶é—´ < 200ms

---

### Day 4 (2026-03-01): å›¾ç‰‡ä¼˜åŒ–

#### ä»»åŠ¡ 2.5: å®ç°å›¾ç‰‡æ‡’åŠ è½½å’Œä¼˜åŒ–

**é¢„è®¡è€—æ—¶**: 4å°æ—¶

**ç›®æ ‡**: ä¼˜åŒ–å›¾ç‰‡åŠ è½½ï¼Œæå‡ Lighthouse åˆ†æ•°

**å®ç°æ­¥éª¤**:

##### æ­¥éª¤ 1: ä½¿ç”¨ Next.js Image ç»„ä»¶

**æ›´æ–°**: `components/public/PotteryCard.tsx`

```typescript
import Image from 'next/image'
import Link from 'next/link'
import { Badge } from '@/components/ui/badge'
import type { PotteryEntryData } from '@/lib/db/types'

interface PotteryCardProps {
  entry: PotteryEntryData
}

export function PotteryCard({ entry }: PotteryCardProps) {
  const images = entry.images as any[]
  const firstImage = images?.[0]

  return (
    <Link href={`/pottery/${entry.slug}`}>
      <div className="group rounded-lg border bg-white p-4 hover:shadow-lg transition-shadow">
        {/* ä¼˜åŒ–åçš„å›¾ç‰‡ */}
        {firstImage ? (
          <div className="relative aspect-video w-full overflow-hidden rounded-md bg-slate-100 mb-3">
            <Image
              src={firstImage.url}
              alt={firstImage.alt}
              fill
              sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
              className="object-cover group-hover:scale-105 transition-transform"
              loading="lazy"
              placeholder="blur"
              blurDataURL="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAIAAoDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWEREiMxUf/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R//2Q=="
            />
          </div>
        ) : (
          <div className="aspect-video w-full bg-slate-100 rounded-md mb-3 flex items-center justify-center">
            <span className="text-slate-400 text-sm">æš‚æ— å›¾ç‰‡</span>
          </div>
        )}

        {/* å…¶ä»–å†…å®¹ä¿æŒä¸å˜ */}
        <h3 className="font-semibold text-lg mb-1 group-hover:text-blue-600">
          {entry.nameZh}
        </h3>
        <p className="text-sm text-slate-600 mb-2 font-jp">{entry.nameJa}</p>
        <p className="text-sm text-slate-500 mb-3">{entry.region}</p>

        <div className="flex flex-wrap gap-2">
          <Badge variant="secondary">{entry.category.split('/')[0]}</Badge>
          {entry.keywords.slice(0, 2).map((keyword) => (
            <Badge key={keyword} variant="outline">{keyword}</Badge>
          ))}
        </div>
      </div>
    </Link>
  )
}
```

##### æ­¥éª¤ 2: ä¼˜åŒ–è¯¦æƒ…é¡µå›¾ç‰‡ç”»å»Š

**æ›´æ–°**: `components/public/ImageGallery.tsx`

```typescript
'use client'

import { useState } from 'react'
import Image from 'next/image'
import type { ImageAsset } from '@/lib/db/types'

interface ImageGalleryProps {
  images: ImageAsset[]
}

export function ImageGallery({ images }: ImageGalleryProps) {
  const [selectedIndex, setSelectedIndex] = useState(0)

  if (!images || images.length === 0) {
    return (
      <div className="aspect-video w-full bg-slate-100 rounded-lg flex items-center justify-center">
        <p className="text-slate-400">æš‚æ— å›¾ç‰‡</p>
      </div>
    )
  }

  const selectedImage = images[selectedIndex]

  return (
    <div className="space-y-4">
      {/* ä¸»å›¾ - ä½¿ç”¨ Next.js Image */}
      <div className="relative aspect-video w-full overflow-hidden rounded-lg bg-slate-100">
        <Image
          src={selectedImage.url}
          alt={selectedImage.alt}
          fill
          sizes="(max-width: 768px) 100vw, 66vw"
          className="object-cover"
          priority={selectedIndex === 0}
          quality={90}
        />
      </div>

      {/* å›¾ç‰‡è¯´æ˜ */}
      {selectedImage.caption && (
        <p className="text-sm text-slate-600">{selectedImage.caption}</p>
      )}

      {/* ç¼©ç•¥å›¾ */}
      {images.length > 1 && (
        <div className="flex gap-2 overflow-x-auto pb-2">
          {images.map((image, index) => (
            <button
              key={image.id}
              onClick={() => setSelectedIndex(index)}
              className={`relative flex-shrink-0 w-20 h-20 rounded overflow-hidden border-2 transition-colors ${
                index === selectedIndex
                  ? 'border-blue-600'
                  : 'border-transparent hover:border-slate-300'
              }`}
            >
              <Image
                src={image.url}
                alt={image.alt}
                fill
                sizes="80px"
                className="object-cover"
                loading="lazy"
              />
            </button>
          ))}
        </div>
      )}
    </div>
  )
}
```

##### æ­¥éª¤ 3: é…ç½®å›¾ç‰‡åŸŸå

**æ›´æ–°**: `next.config.js`

```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  images: {
    formats: ['image/webp', 'image/avif'],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920],
    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],

    // å¦‚æœä½¿ç”¨å¤–éƒ¨å›¾ç‰‡æºï¼Œæ·»åŠ åŸŸå
    remotePatterns: [
      {
        protocol: 'https',
        hostname: '**.example.com',
      },
    ],

    // ä¼˜åŒ–é…ç½®
    minimumCacheTTL: 60 * 60 * 24 * 365, // 1å¹´
    dangerouslyAllowSVG: true,
    contentDispositionType: 'attachment',
    contentSecurityPolicy: "default-src 'self'; script-src 'none'; sandbox;",
  },

  // å…¶ä»–é…ç½®...
};

module.exports = nextConfig;
```

##### æ­¥éª¤ 4: ç”Ÿæˆ blur placeholder

**åˆ›å»º**: `lib/image-utils.ts`

```typescript
import sharp from 'sharp'

// ç”Ÿæˆ blur placeholder data URL
export async function getBlurDataURL(imagePath: string): Promise<string> {
  try {
    const buffer = await sharp(imagePath)
      .resize(10, 10, { fit: 'cover' })
      .webp({ quality: 20 })
      .toBuffer()

    const base64 = buffer.toString('base64')
    return `data:image/webp;base64,${base64}`
  } catch (error) {
    console.error('ç”Ÿæˆ blur placeholder å¤±è´¥:', error)
    // è¿”å›é»˜è®¤ placeholder
    return 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAIAAoDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWEREiMxUf/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R//2Q=='
  }
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰å›¾ç‰‡ä½¿ç”¨ Next.js Image ç»„ä»¶
- [ ] å›¾ç‰‡æ‡’åŠ è½½ç”Ÿæ•ˆ
- [ ] Blur placeholder æ˜¾ç¤º
- [ ] Lighthouse æ€§èƒ½åˆ†æ•° > 85

**æµ‹è¯•**:

```bash
# 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# 2. è¿è¡Œ Lighthouse
# ä½¿ç”¨ Chrome DevTools > Lighthouse
# æˆ–å‘½ä»¤è¡Œ:
npx lighthouse http://localhost:3000 --view

# ç›®æ ‡:
# Performance: > 85
# Accessibility: > 90
# Best Practices: > 90
# SEO: > 90
```

---

### Day 5 (2026-03-02): SEO ä¼˜åŒ–

#### ä»»åŠ¡ 2.6: SEO ä¼˜åŒ–å’Œå…ƒæ•°æ®å¢å¼º

**é¢„è®¡è€—æ—¶**: 3å°æ—¶

**ç›®æ ‡**: ä¼˜åŒ–æœç´¢å¼•æ“å¯è§æ€§

**å®ç°æ­¥éª¤**:

##### æ­¥éª¤ 1: åˆ›å»º Sitemap

**åˆ›å»º**: `app/sitemap.ts`

```typescript
import { MetadataRoute } from 'next'
import { prisma } from '@/lib/db/client'

export default async function sitemap(): Promise<MetadataRoute.Sitemap> {
  const baseUrl = process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'

  // è·å–æ‰€æœ‰å·²å‘å¸ƒçš„é™¶å™¨æ¡ç›®
  const entries = await prisma.potteryEntry.findMany({
    where: { published: true },
    select: { slug: true, updatedAt: true },
  })

  // è·å–æ‰€æœ‰å·²å‘å¸ƒçš„ä½œå®¶
  const artists = await prisma.artist.findMany({
    where: { published: true },
    select: { slug: true, updatedAt: true },
  })

  // ç”Ÿæˆ sitemap
  return [
    {
      url: baseUrl,
      lastModified: new Date(),
      changeFrequency: 'daily',
      priority: 1,
    },
    {
      url: `${baseUrl}/artists`,
      lastModified: new Date(),
      changeFrequency: 'daily',
      priority: 0.8,
    },
    ...entries.map((entry) => ({
      url: `${baseUrl}/pottery/${entry.slug}`,
      lastModified: entry.updatedAt,
      changeFrequency: 'weekly' as const,
      priority: 0.7,
    })),
    ...artists.map((artist) => ({
      url: `${baseUrl}/artists/${artist.slug}`,
      lastModified: artist.updatedAt,
      changeFrequency: 'weekly' as const,
      priority: 0.6,
    })),
  ]
}
```

##### æ­¥éª¤ 2: åˆ›å»º robots.txt

**åˆ›å»º**: `app/robots.ts`

```typescript
import { MetadataRoute } from 'next'

export default function robots(): MetadataRoute.Robots {
  const baseUrl = process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'

  return {
    rules: [
      {
        userAgent: '*',
        allow: '/',
        disallow: ['/admin/', '/api/'],
      },
    ],
    sitemap: `${baseUrl}/sitemap.xml`,
  }
}
```

##### æ­¥éª¤ 3: ä¼˜åŒ–å…ƒæ•°æ®

**æ›´æ–°**: `app/(public)/layout.tsx`

```typescript
import type { Metadata } from 'next'

export const metadata: Metadata = {
  metadataBase: new URL(process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'),

  title: {
    default: 'æ—¥æœ¬é™¶è‰ºçŸ¥è¯†åº“ - æ¢ç´¢æ—¥æœ¬ä¼ ç»Ÿé™¶ç“·è‰ºæœ¯',
    template: '%s | æ—¥æœ¬é™¶è‰ºçŸ¥è¯†åº“'
  },

  description: 'æ·±å…¥äº†è§£æ—¥æœ¬é™¶è‰ºçš„å†å²ã€æŠ€æ³•å’Œåå®¶ä½œå“ã€‚æ¶µç›–å…­å¤çª‘ã€äººé—´å›½å®ã€å½“ä»£é™¶è‰ºå®¶ç­‰ä¸°å¯Œå†…å®¹ã€‚',

  keywords: [
    'æ—¥æœ¬é™¶è‰º', 'æ—¥æœ¬é™¶å™¨', 'æ—¥æœ¬ç“·å™¨',
    'å…­å¤çª‘', 'å¤‡å‰çƒ§', 'ä¿¡ä¹çƒ§', 'æ¿‘æˆ·çƒ§',
    'äººé—´å›½å®', 'é™¶è‰ºå®¶', 'æ—¥æœ¬ä¼ ç»Ÿå·¥è‰º',
    'Japanese pottery', 'Japanese ceramics',
  ],

  authors: [{ name: 'Japan Pottery Knowledge Base' }],
  creator: 'Japan Pottery Knowledge Base',
  publisher: 'Japan Pottery Knowledge Base',

  openGraph: {
    type: 'website',
    locale: 'zh_CN',
    alternateLocale: ['ja_JP', 'en_US'],
    url: '/',
    siteName: 'æ—¥æœ¬é™¶è‰ºçŸ¥è¯†åº“',
    title: 'æ—¥æœ¬é™¶è‰ºçŸ¥è¯†åº“ - æ¢ç´¢æ—¥æœ¬ä¼ ç»Ÿé™¶ç“·è‰ºæœ¯',
    description: 'æ·±å…¥äº†è§£æ—¥æœ¬é™¶è‰ºçš„å†å²ã€æŠ€æ³•å’Œåå®¶ä½œå“',
    images: [
      {
        url: '/og-image.jpg',
        width: 1200,
        height: 630,
        alt: 'æ—¥æœ¬é™¶è‰ºçŸ¥è¯†åº“',
      },
    ],
  },

  twitter: {
    card: 'summary_large_image',
    title: 'æ—¥æœ¬é™¶è‰ºçŸ¥è¯†åº“',
    description: 'æ¢ç´¢æ—¥æœ¬ä¼ ç»Ÿé™¶ç“·è‰ºæœ¯',
    images: ['/og-image.jpg'],
  },

  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      'max-video-preview': -1,
      'max-image-preview': 'large',
      'max-snippet': -1,
    },
  },

  verification: {
    // google: 'your-google-verification-code',
    // bing: 'your-bing-verification-code',
  },
}
```

##### æ­¥éª¤ 4: æ·»åŠ ç»“æ„åŒ–æ•°æ®

**æ›´æ–°**: `app/(public)/pottery/[slug]/page.tsx`

æ·»åŠ  JSON-LD ç»“æ„åŒ–æ•°æ®:

```typescript
export default async function PotteryDetailPage({ params }: DetailPageProps) {
  const entry = await prisma.potteryEntry.findUnique({
    where: { slug: params.slug },
    include: { artist: true },
  })

  if (!entry || !entry.published) {
    notFound()
  }

  // ç”Ÿæˆç»“æ„åŒ–æ•°æ®
  const jsonLd = {
    '@context': 'https://schema.org',
    '@type': 'Article',
    headline: entry.nameZh,
    alternativeHeadline: entry.nameJa,
    description: entry.positioning,
    author: entry.artist ? {
      '@type': 'Person',
      name: entry.artist.nameZh,
    } : undefined,
    datePublished: entry.publishedAt?.toISOString(),
    dateModified: entry.updatedAt.toISOString(),
    keywords: entry.keywords.join(', '),
  }

  return (
    <>
      {/* æ·»åŠ  JSON-LD */}
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}
      />

      {/* ç°æœ‰é¡µé¢å†…å®¹ */}
      <div className="container mx-auto px-4 py-8 max-w-6xl">
        {/* ... */}
      </div>
    </>
  )
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] Sitemap ç”ŸæˆæˆåŠŸ (è®¿é—® /sitemap.xml)
- [ ] Robots.txt æ­£ç¡® (è®¿é—® /robots.txt)
- [ ] å…ƒæ•°æ®å®Œæ•´
- [ ] ç»“æ„åŒ–æ•°æ®éªŒè¯é€šè¿‡

**æµ‹è¯•**:

```bash
# 1. éªŒè¯ sitemap
curl http://localhost:3000/sitemap.xml

# 2. éªŒè¯ robots.txt
curl http://localhost:3000/robots.txt

# 3. éªŒè¯ç»“æ„åŒ–æ•°æ®
# ä½¿ç”¨ Google çš„ç»“æ„åŒ–æ•°æ®æµ‹è¯•å·¥å…·:
# https://search.google.com/test/rich-results
```

---

### ç¬¬ä¸€å‘¨æ€»ç»“

**å®Œæˆçš„ä»»åŠ¡**:
- [x] ç¯å¢ƒå¯åŠ¨ä¸åŠŸèƒ½éªŒè¯
- [x] ä»£ç è´¨é‡æ£€æŸ¥
- [x] ISR é™æ€ç”Ÿæˆä¼˜åŒ–
- [x] æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–
- [x] å›¾ç‰‡æ‡’åŠ è½½ä¼˜åŒ–
- [x] SEO å…ƒæ•°æ®ä¼˜åŒ–

**å…³é”®æŒ‡æ ‡**:
- é¦–é¡µåŠ è½½æ—¶é—´: ç›®æ ‡ < 1ç§’
- è¯¦æƒ…é¡µåŠ è½½æ—¶é—´: ç›®æ ‡ < 500ms
- Lighthouse åˆ†æ•°: ç›®æ ‡ > 85

**è¾“å‡ºæ–‡æ¡£**:
- æµ‹è¯•æŠ¥å‘Š (docs/test-report-phase1.md)
- æ€§èƒ½ä¼˜åŒ–æŠ¥å‘Š (docs/performance-optimization.md)

---

## ç¬¬äºŒå‘¨è®¡åˆ’ï¼šåå°åŠŸèƒ½å®Œå–„

**æ—¶é—´**: 2026-03-03 ~ 2026-03-09 (5ä¸ªå·¥ä½œæ—¥)
**ä¸»è¦è´Ÿè´£**: Full-stack Agent
**ä¼˜å…ˆçº§**: ğŸ”´ é«˜

### Day 6-7 (2026-03-03 ~ 2026-03-04): æ‰¹é‡ç¼–è¾‘åŠŸèƒ½

#### ä»»åŠ¡ 2.7: å®ç°æ‰¹é‡ç¼–è¾‘åŠŸèƒ½

**é¢„è®¡è€—æ—¶**: 8å°æ—¶ (2å¤©)

**ç›®æ ‡**: æå‡åå°ç®¡ç†æ•ˆç‡ï¼Œæ”¯æŒæ‰¹é‡æ“ä½œ

**åŠŸèƒ½éœ€æ±‚**:

1. **å¤šé€‰åŠŸèƒ½**
   - æ¡ç›®åˆ—è¡¨é¡µæ·»åŠ å¤é€‰æ¡†
   - å…¨é€‰/å–æ¶ˆå…¨é€‰
   - æ˜¾ç¤ºé€‰ä¸­æ•°é‡

2. **æ‰¹é‡æ“ä½œ**
   - æ‰¹é‡ä¿®æ”¹åˆ†ç±»
   - æ‰¹é‡ä¿®æ”¹äº§åœ°
   - æ‰¹é‡ä¿®æ”¹çŠ¶æ€ (å‘å¸ƒ/å–æ¶ˆå‘å¸ƒ)
   - æ‰¹é‡æ·»åŠ æ ‡ç­¾
   - æ‰¹é‡åˆ é™¤

3. **æ“ä½œç¡®è®¤**
   - å±é™©æ“ä½œéœ€äºŒæ¬¡ç¡®è®¤
   - æ˜¾ç¤ºå½±å“çš„æ¡ç›®æ•°é‡
   - æ“ä½œæ—¥å¿—è®°å½•

**å®ç°æ­¥éª¤**:

##### æ­¥éª¤ 1: åˆ›å»ºæ‰¹é‡æ“ä½œ API

**åˆ›å»º**: `app/api/entries/bulk-update/route.ts`

```typescript
import { NextRequest, NextResponse } from 'next/server'
import { prisma } from '@/lib/db/client'
import { requireAuth } from '@/lib/auth/middleware'
import { z } from 'zod'

// æ‰¹é‡æ›´æ–°éªŒè¯ schema
const bulkUpdateSchema = z.object({
  ids: z.array(z.string().uuid()).min(1, 'è‡³å°‘é€‰æ‹©ä¸€ä¸ªæ¡ç›®'),
  action: z.enum(['update', 'delete']),
  updates: z.object({
    category: z.string().optional(),
    region: z.string().optional(),
    published: z.boolean().optional(),
    keywords: z.array(z.string()).optional(), // æ·»åŠ æ ‡ç­¾
  }).optional(),
})

export async function POST(request: NextRequest) {
  const authError = await requireAuth(request)
  if (authError) return authError

  try {
    const body = await request.json()
    const validated = bulkUpdateSchema.parse(body)

    let result: any

    if (validated.action === 'delete') {
      // æ‰¹é‡åˆ é™¤
      result = await prisma.potteryEntry.deleteMany({
        where: {
          id: { in: validated.ids },
        },
      })

      return NextResponse.json({
        success: true,
        data: {
          deleted: result.count,
          action: 'delete',
        },
      })
    }

    if (validated.action === 'update' && validated.updates) {
      // æ‰¹é‡æ›´æ–°
      const updateData: any = {}

      if (validated.updates.category) {
        updateData.category = validated.updates.category
      }

      if (validated.updates.region) {
        updateData.region = validated.updates.region
      }

      if (validated.updates.published !== undefined) {
        updateData.published = validated.updates.published
        if (validated.updates.published) {
          updateData.publishedAt = new Date()
        }
      }

      // å¤„ç†æ·»åŠ æ ‡ç­¾ï¼ˆåˆå¹¶ç°æœ‰æ ‡ç­¾ï¼‰
      if (validated.updates.keywords && validated.updates.keywords.length > 0) {
        // éœ€è¦é€ä¸ªæ›´æ–°ä»¥åˆå¹¶æ ‡ç­¾
        const entries = await prisma.potteryEntry.findMany({
          where: { id: { in: validated.ids } },
          select: { id: true, keywords: true },
        })

        const updatePromises = entries.map(async (entry) => {
          const existingKeywords = entry.keywords || []
          const newKeywords = validated.updates!.keywords!
          const mergedKeywords = Array.from(
            new Set([...existingKeywords, ...newKeywords])
          )

          return prisma.potteryEntry.update({
            where: { id: entry.id },
            data: {
              ...updateData,
              keywords: mergedKeywords,
            },
          })
        })

        await Promise.all(updatePromises)
        result = { count: updatePromises.length }
      } else {
        // æ™®é€šæ‰¹é‡æ›´æ–°
        result = await prisma.potteryEntry.updateMany({
          where: {
            id: { in: validated.ids },
          },
          data: updateData,
        })
      }

      return NextResponse.json({
        success: true,
        data: {
          updated: result.count,
          action: 'update',
          fields: Object.keys(validated.updates),
        },
      })
    }

    return NextResponse.json(
      {
        success: false,
        error: {
          code: 'INVALID_ACTION',
          message: 'æ— æ•ˆçš„æ“ä½œç±»å‹',
        },
      },
      { status: 400 }
    )
  } catch (error: any) {
    console.error('æ‰¹é‡æ“ä½œé”™è¯¯:', error)

    if (error.name === 'ZodError') {
      return NextResponse.json(
        {
          success: false,
          error: {
            code: 'VALIDATION_ERROR',
            message: 'è¾“å…¥æ•°æ®éªŒè¯å¤±è´¥',
            details: error.errors,
          },
        },
        { status: 400 }
      )
    }

    return NextResponse.json(
      {
        success: false,
        error: {
          code: 'SERVER_ERROR',
          message: error.message || 'æ‰¹é‡æ“ä½œå¤±è´¥',
        },
      },
      { status: 500 }
    )
  }
}
```

##### æ­¥éª¤ 2: åˆ›å»ºæ‰¹é‡æ“ä½œç»„ä»¶

**åˆ›å»º**: `components/admin/BulkActions.tsx`

```typescript
'use client'

import { useState } from 'react'
import { Button } from '@/components/ui/button'
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from '@/components/ui/select'
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from '@/components/ui/dialog'
import { Input } from '@/components/ui/input'
import { Label } from '@/components/ui/label'
import { useRouter } from 'next/navigation'

interface BulkActionsProps {
  selectedIds: string[]
  onClearSelection: () => void
}

export function BulkActions({ selectedIds, onClearSelection }: BulkActionsProps) {
  const router = useRouter()
  const [action, setAction] = useState<string>('')
  const [isDialogOpen, setIsDialogOpen] = useState(false)
  const [isProcessing, setIsProcessing] = useState(false)

  // æ‰¹é‡æ›´æ–°çš„å­—æ®µå€¼
  const [category, setCategory] = useState('')
  const [region, setRegion] = useState('')
  const [newKeywords, setNewKeywords] = useState('')
  const [publishStatus, setPublishStatus] = useState<boolean | undefined>()

  const handleAction = () => {
    if (!action) return
    setIsDialogOpen(true)
  }

  const executeBulkAction = async () => {
    setIsProcessing(true)

    try {
      let requestBody: any = {
        ids: selectedIds,
        action: action === 'delete' ? 'delete' : 'update',
      }

      if (action !== 'delete') {
        requestBody.updates = {}

        if (action === 'category' && category) {
          requestBody.updates.category = category
        } else if (action === 'region' && region) {
          requestBody.updates.region = region
        } else if (action === 'publish' || action === 'unpublish') {
          requestBody.updates.published = action === 'publish'
        } else if (action === 'add-keywords' && newKeywords) {
          requestBody.updates.keywords = newKeywords
            .split(',')
            .map(k => k.trim())
            .filter(k => k.length > 0)
        }
      }

      const response = await fetch('/api/entries/bulk-update', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${process.env.NEXT_PUBLIC_ADMIN_PASSWORD || 'admin123'}`,
        },
        body: JSON.stringify(requestBody),
      })

      const data = await response.json()

      if (data.success) {
        alert(
          action === 'delete'
            ? `æˆåŠŸåˆ é™¤ ${data.data.deleted} ä¸ªæ¡ç›®`
            : `æˆåŠŸæ›´æ–° ${data.data.updated} ä¸ªæ¡ç›®`
        )

        // åˆ·æ–°é¡µé¢
        router.refresh()
        onClearSelection()
        setIsDialogOpen(false)
      } else {
        alert(`æ“ä½œå¤±è´¥: ${data.error?.message || 'æœªçŸ¥é”™è¯¯'}`)
      }
    } catch (error) {
      console.error('æ‰¹é‡æ“ä½œé”™è¯¯:', error)
      alert('æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•')
    } finally {
      setIsProcessing(false)
    }
  }

  if (selectedIds.length === 0) {
    return null
  }

  return (
    <>
      <div className="flex items-center gap-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
        <span className="font-medium">
          å·²é€‰æ‹© {selectedIds.length} ä¸ªæ¡ç›®
        </span>

        <Select value={action} onValueChange={setAction}>
          <SelectTrigger className="w-48">
            <SelectValue placeholder="é€‰æ‹©æ“ä½œ" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="category">ä¿®æ”¹åˆ†ç±»</SelectItem>
            <SelectItem value="region">ä¿®æ”¹äº§åœ°</SelectItem>
            <SelectItem value="publish">æ‰¹é‡å‘å¸ƒ</SelectItem>
            <SelectItem value="unpublish">å–æ¶ˆå‘å¸ƒ</SelectItem>
            <SelectItem value="add-keywords">æ·»åŠ æ ‡ç­¾</SelectItem>
            <SelectItem value="delete">æ‰¹é‡åˆ é™¤</SelectItem>
          </SelectContent>
        </Select>

        <Button onClick={handleAction} disabled={!action}>
          æ‰§è¡Œæ“ä½œ
        </Button>

        <Button variant="outline" onClick={onClearSelection}>
          å–æ¶ˆé€‰æ‹©
        </Button>
      </div>

      {/* æ“ä½œç¡®è®¤å¯¹è¯æ¡† */}
      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>
        <DialogContent>
          <DialogHeader>
            <DialogTitle>ç¡®è®¤æ‰¹é‡æ“ä½œ</DialogTitle>
            <DialogDescription>
              {action === 'delete' ? (
                <span className="text-red-600 font-semibold">
                  âš ï¸ è­¦å‘Šï¼šæ­¤æ“ä½œå°†åˆ é™¤ {selectedIds.length} ä¸ªæ¡ç›®ï¼Œä¸”æ— æ³•æ¢å¤ï¼
                </span>
              ) : (
                `å³å°†å¯¹ ${selectedIds.length} ä¸ªæ¡ç›®æ‰§è¡Œæ“ä½œ`
              )}
            </DialogDescription>
          </DialogHeader>

          <div className="space-y-4 py-4">
            {action === 'category' && (
              <div>
                <Label>æ–°åˆ†ç±»</Label>
                <Input
                  value={category}
                  onChange={(e) => setCategory(e.target.value)}
                  placeholder="ä¾‹å¦‚: é™¶å™¨/æ— é‡‰/è–ªçª‘"
                />
              </div>
            )}

            {action === 'region' && (
              <div>
                <Label>æ–°äº§åœ°</Label>
                <Input
                  value={region}
                  onChange={(e) => setRegion(e.target.value)}
                  placeholder="ä¾‹å¦‚: å†ˆå±±å¿Â·å¤‡å‰å¸‚"
                />
              </div>
            )}

            {action === 'add-keywords' && (
              <div>
                <Label>æ·»åŠ æ ‡ç­¾ï¼ˆé€—å·åˆ†éš”ï¼‰</Label>
                <Input
                  value={newKeywords}
                  onChange={(e) => setNewKeywords(e.target.value)}
                  placeholder="ä¾‹å¦‚: å…­å¤çª¯,ä¼ ç»Ÿ,æ—¥æœ¬é—äº§"
                />
              </div>
            )}
          </div>

          <DialogFooter>
            <Button
              variant="outline"
              onClick={() => setIsDialogOpen(false)}
              disabled={isProcessing}
            >
              å–æ¶ˆ
            </Button>
            <Button
              onClick={executeBulkAction}
              disabled={isProcessing}
              variant={action === 'delete' ? 'destructive' : 'default'}
            >
              {isProcessing ? 'å¤„ç†ä¸­...' : 'ç¡®è®¤æ‰§è¡Œ'}
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>
    </>
  )
}
```

##### æ­¥éª¤ 3: æ›´æ–°æ¡ç›®åˆ—è¡¨é¡µ

**æ›´æ–°**: `app/admin/entries/page.tsx`

æ·»åŠ å¤šé€‰åŠŸèƒ½:

```typescript
'use client'

import { useState } from 'react'
import { Checkbox } from '@/components/ui/checkbox'
import { BulkActions } from '@/components/admin/BulkActions'
// ... å…¶ä»–å¯¼å…¥

export default function EntriesListPage() {
  const [selectedIds, setSelectedIds] = useState<string[]>([])

  // ... è·å–æ¡ç›®åˆ—è¡¨

  const handleSelectAll = (checked: boolean) => {
    if (checked) {
      setSelectedIds(entries.map(e => e.id))
    } else {
      setSelectedIds([])
    }
  }

  const handleSelectOne = (id: string, checked: boolean) => {
    if (checked) {
      setSelectedIds([...selectedIds, id])
    } else {
      setSelectedIds(selectedIds.filter(selectedId => selectedId !== id))
    }
  }

  return (
    <div className="space-y-6">
      <div className="flex items-center justify-between">
        <h1 className="text-2xl font-bold">é™¶å™¨æ¡ç›®ç®¡ç†</h1>
        <Button asChild>
          <Link href="/admin/entries/new">æ–°å»ºæ¡ç›®</Link>
        </Button>
      </div>

      {/* æ‰¹é‡æ“ä½œå·¥å…·æ  */}
      <BulkActions
        selectedIds={selectedIds}
        onClearSelection={() => setSelectedIds([])}
      />

      {/* æ¡ç›®åˆ—è¡¨è¡¨æ ¼ */}
      <div className="border rounded-lg">
        <Table>
          <TableHeader>
            <TableRow>
              <TableHead className="w-12">
                <Checkbox
                  checked={
                    selectedIds.length === entries.length && entries.length > 0
                  }
                  onCheckedChange={handleSelectAll}
                />
              </TableHead>
              <TableHead>ä¸­æ–‡åç§°</TableHead>
              <TableHead>æ—¥æ–‡åç§°</TableHead>
              <TableHead>åˆ†ç±»</TableHead>
              <TableHead>äº§åœ°</TableHead>
              <TableHead>çŠ¶æ€</TableHead>
              <TableHead>æ›´æ–°æ—¶é—´</TableHead>
              <TableHead className="text-right">æ“ä½œ</TableHead>
            </TableRow>
          </TableHeader>
          <TableBody>
            {entries.map((entry) => (
              <TableRow key={entry.id}>
                <TableCell>
                  <Checkbox
                    checked={selectedIds.includes(entry.id)}
                    onCheckedChange={(checked) =>
                      handleSelectOne(entry.id, checked as boolean)
                    }
                  />
                </TableCell>
                <TableCell>{entry.nameZh}</TableCell>
                {/* ... å…¶ä»–å•å…ƒæ ¼ */}
              </TableRow>
            ))}
          </TableBody>
        </Table>
      </div>
    </div>
  )
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] å¯ä»¥å¤šé€‰æ¡ç›®
- [ ] å…¨é€‰/å–æ¶ˆå…¨é€‰åŠŸèƒ½æ­£å¸¸
- [ ] æ‰¹é‡ä¿®æ”¹åˆ†ç±»ç”Ÿæ•ˆ
- [ ] æ‰¹é‡ä¿®æ”¹äº§åœ°ç”Ÿæ•ˆ
- [ ] æ‰¹é‡å‘å¸ƒ/å–æ¶ˆå‘å¸ƒç”Ÿæ•ˆ
- [ ] æ‰¹é‡æ·»åŠ æ ‡ç­¾ç”Ÿæ•ˆ
- [ ] æ‰¹é‡åˆ é™¤éœ€äºŒæ¬¡ç¡®è®¤
- [ ] æ“ä½œåé¡µé¢è‡ªåŠ¨åˆ·æ–°

**æµ‹è¯•**:
1. é€‰æ‹©å¤šä¸ªæ¡ç›®
2. æ‰§è¡Œæ‰¹é‡ä¿®æ”¹åˆ†ç±»
3. éªŒè¯æ•°æ®åº“ä¸­æ•°æ®å·²æ›´æ–°
4. æµ‹è¯•æ‰¹é‡åˆ é™¤åŠŸèƒ½
5. éªŒè¯å±é™©æ“ä½œæœ‰ç¡®è®¤å¯¹è¯æ¡†

---

### Day 8-9 (2026-03-05 ~ 2026-03-06): å†…å®¹å®¡æ ¸å·¥ä½œæµ

#### ä»»åŠ¡ 2.8: å®ç°å†…å®¹å®¡æ ¸å·¥ä½œæµ

**é¢„è®¡è€—æ—¶**: 8å°æ—¶ (2å¤©)

**ç›®æ ‡**: è§„èŒƒå†…å®¹è´¨é‡ï¼Œå»ºç«‹å®¡æ ¸æµç¨‹

**åŠŸèƒ½éœ€æ±‚**:

1. **çŠ¶æ€ç³»ç»Ÿ**
   - DRAFT (è‰ç¨¿)
   - PENDING (å¾…å®¡æ ¸)
   - PUBLISHED (å·²å‘å¸ƒ)
   - REJECTED (å·²æ‹’ç»)
   - ARCHIVED (å·²å½’æ¡£)

2. **å®¡æ ¸åŠŸèƒ½**
   - å®¡æ ¸åˆ—è¡¨é¡µï¼ˆä»…æ˜¾ç¤ºå¾…å®¡æ ¸å†…å®¹ï¼‰
   - å®¡æ ¸è¯¦æƒ…é¡µï¼ˆæŸ¥çœ‹å®Œæ•´ä¿¡æ¯ï¼‰
   - æ‰¹å‡†/æ‹’ç»æ“ä½œ
   - å®¡æ ¸æ„è§/å¤‡æ³¨

3. **æƒé™æ§åˆ¶**
   - å‰å°åªæ˜¾ç¤º PUBLISHED çŠ¶æ€
   - åå°æ ¹æ®çŠ¶æ€æ˜¾ç¤ºä¸åŒæ“ä½œæŒ‰é’®

**å®ç°æ­¥éª¤**:

##### æ­¥éª¤ 1: æ›´æ–°æ•°æ®åº“ Schema

**æ›´æ–°**: `prisma/schema.prisma`

```prisma
enum EntryStatus {
  DRAFT      // è‰ç¨¿
  PENDING    // å¾…å®¡æ ¸
  PUBLISHED  // å·²å‘å¸ƒ
  REJECTED   // å·²æ‹’ç»
  ARCHIVED   // å·²å½’æ¡£
}

model PotteryEntry {
  // ... ç°æœ‰å­—æ®µ

  // æ›¿æ¢ published å­—æ®µ
  status EntryStatus @default(DRAFT)

  // å®¡æ ¸ç›¸å…³
  reviewedBy   String?   // å®¡æ ¸äººå‘˜
  reviewedAt   DateTime? // å®¡æ ¸æ—¶é—´
  reviewNote   String?   @db.Text // å®¡æ ¸æ„è§

  // ä¿ç•™ç°æœ‰çš„ published å­—æ®µç”¨äºå‘åå…¼å®¹
  published    Boolean   @default(false)
  publishedAt  DateTime?

  // ... å…¶ä»–å­—æ®µ

  @@index([status, createdAt])
}

model Artist {
  // ... ç°æœ‰å­—æ®µ

  status EntryStatus @default(DRAFT)

  reviewedBy   String?
  reviewedAt   DateTime?
  reviewNote   String?

  published    Boolean   @default(false)

  // ... å…¶ä»–å­—æ®µ

  @@index([status])
}
```

åˆ›å»ºè¿ç§»:

```bash
pnpm prisma migrate dev --name add_entry_status
```

##### æ­¥éª¤ 2: æ•°æ®è¿ç§»è„šæœ¬

**åˆ›å»º**: `scripts/migrate-to-status.ts`

```typescript
import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

async function main() {
  console.log('ğŸ”„ è¿ç§»ç°æœ‰æ•°æ®åˆ°æ–°çŠ¶æ€ç³»ç»Ÿ...\n')

  // æ›´æ–°é™¶å™¨æ¡ç›®
  const entryResult = await prisma.potteryEntry.updateMany({
    where: { published: true },
    data: {
      status: 'PUBLISHED',
      publishedAt: new Date(),
    },
  })

  const draftResult = await prisma.potteryEntry.updateMany({
    where: { published: false },
    data: {
      status: 'DRAFT',
    },
  })

  console.log(`âœ… æ›´æ–° ${entryResult.count} ä¸ªå·²å‘å¸ƒæ¡ç›®`)
  console.log(`âœ… æ›´æ–° ${draftResult.count} ä¸ªè‰ç¨¿æ¡ç›®`)

  // æ›´æ–°ä½œå®¶
  const artistPublished = await prisma.artist.updateMany({
    where: { published: true },
    data: { status: 'PUBLISHED' },
  })

  const artistDraft = await prisma.artist.updateMany({
    where: { published: false },
    data: { status: 'DRAFT' },
  })

  console.log(`âœ… æ›´æ–° ${artistPublished.count} ä¸ªå·²å‘å¸ƒä½œå®¶`)
  console.log(`âœ… æ›´æ–° ${artistDraft.count} ä¸ªè‰ç¨¿ä½œå®¶`)

  console.log('\nğŸ‰ æ•°æ®è¿ç§»å®Œæˆï¼')
}

main()
  .catch((e) => {
    console.error('âŒ è¿ç§»å¤±è´¥:', e)
    process.exit(1)
  })
  .finally(async () => {
    await prisma.$disconnect()
  })
```

è¿è¡Œè¿ç§»:

```bash
npx tsx scripts/migrate-to-status.ts
```

##### æ­¥éª¤ 3: åˆ›å»ºå®¡æ ¸ API

**åˆ›å»º**: `app/api/entries/[id]/review/route.ts`

```typescript
import { NextRequest, NextResponse } from 'next/server'
import { prisma } from '@/lib/db/client'
import { requireAuth } from '@/lib/auth/middleware'
import { z } from 'zod'

const reviewSchema = z.object({
  action: z.enum(['approve', 'reject', 'request-changes']),
  note: z.string().optional(),
})

export async function POST(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  const authError = await requireAuth(request)
  if (authError) return authError

  try {
    const body = await request.json()
    const validated = reviewSchema.parse(body)

    // æ£€æŸ¥æ¡ç›®æ˜¯å¦å­˜åœ¨
    const entry = await prisma.potteryEntry.findUnique({
      where: { id: params.id },
    })

    if (!entry) {
      return NextResponse.json(
        {
          success: false,
          error: {
            code: 'NOT_FOUND',
            message: 'æ¡ç›®ä¸å­˜åœ¨',
          },
        },
        { status: 404 }
      )
    }

    // æ ¹æ®æ“ä½œæ›´æ–°çŠ¶æ€
    let newStatus: string
    let publishedValue: boolean

    if (validated.action === 'approve') {
      newStatus = 'PUBLISHED'
      publishedValue = true
    } else if (validated.action === 'reject') {
      newStatus = 'REJECTED'
      publishedValue = false
    } else {
      newStatus = 'DRAFT'
      publishedValue = false
    }

    // æ›´æ–°æ¡ç›®
    const updated = await prisma.potteryEntry.update({
      where: { id: params.id },
      data: {
        status: newStatus as any,
        published: publishedValue,
        publishedAt: publishedValue ? new Date() : null,
        reviewedBy: 'admin', // å¯ä»¥æ”¹ä¸ºå®é™…çš„ç”¨æˆ· ID
        reviewedAt: new Date(),
        reviewNote: validated.note || null,
      },
    })

    return NextResponse.json({
      success: true,
      data: updated,
    })
  } catch (error: any) {
    console.error(`å®¡æ ¸æ¡ç›® ${params.id} é”™è¯¯:`, error)

    if (error.name === 'ZodError') {
      return NextResponse.json(
        {
          success: false,
          error: {
            code: 'VALIDATION_ERROR',
            message: 'è¾“å…¥æ•°æ®éªŒè¯å¤±è´¥',
            details: error.errors,
          },
        },
        { status: 400 }
      )
    }

    return NextResponse.json(
      {
        success: false,
        error: {
          code: 'SERVER_ERROR',
          message: error.message || 'å®¡æ ¸å¤±è´¥',
        },
      },
      { status: 500 }
    )
  }
}
```

##### æ­¥éª¤ 4: åˆ›å»ºå®¡æ ¸åˆ—è¡¨é¡µ

**åˆ›å»º**: `app/admin/review/page.tsx`

```typescript
import Link from 'next/link'
import { prisma } from '@/lib/db/client'
import { Button } from '@/components/ui/button'
import { Badge } from '@/components/ui/badge'
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table'

export default async function ReviewPage() {
  // è·å–å¾…å®¡æ ¸çš„æ¡ç›®
  const pendingEntries = await prisma.potteryEntry.findMany({
    where: { status: 'PENDING' },
    orderBy: { createdAt: 'desc' },
    include: {
      artist: {
        select: { nameZh: true },
      },
    },
  })

  // è·å–æœ€è¿‘å®¡æ ¸çš„æ¡ç›®
  const recentReviewed = await prisma.potteryEntry.findMany({
    where: {
      status: { in: ['PUBLISHED', 'REJECTED'] },
      reviewedAt: { not: null },
    },
    orderBy: { reviewedAt: 'desc' },
    take: 10,
    include: {
      artist: {
        select: { nameZh: true },
      },
    },
  })

  return (
    <div className="space-y-8">
      <div>
        <h1 className="text-2xl font-bold mb-2">å†…å®¹å®¡æ ¸</h1>
        <p className="text-slate-600">
          å®¡æ ¸å¾…å‘å¸ƒçš„å†…å®¹ï¼Œç¡®ä¿è´¨é‡æ ‡å‡†
        </p>
      </div>

      {/* å¾…å®¡æ ¸åˆ—è¡¨ */}
      <div>
        <div className="flex items-center justify-between mb-4">
          <h2 className="text-xl font-semibold">
            å¾…å®¡æ ¸å†…å®¹ ({pendingEntries.length})
          </h2>
        </div>

        {pendingEntries.length > 0 ? (
          <div className="border rounded-lg">
            <Table>
              <TableHeader>
                <TableRow>
                  <TableHead>ä¸­æ–‡åç§°</TableHead>
                  <TableHead>æ—¥æ–‡åç§°</TableHead>
                  <TableHead>åˆ†ç±»</TableHead>
                  <TableHead>äº§åœ°</TableHead>
                  <TableHead>æäº¤æ—¶é—´</TableHead>
                  <TableHead className="text-right">æ“ä½œ</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
                {pendingEntries.map((entry) => (
                  <TableRow key={entry.id}>
                    <TableCell className="font-medium">
                      {entry.nameZh}
                    </TableCell>
                    <TableCell>{entry.nameJa}</TableCell>
                    <TableCell>{entry.category}</TableCell>
                    <TableCell>{entry.region}</TableCell>
                    <TableCell>
                      {new Date(entry.createdAt).toLocaleDateString('zh-CN')}
                    </TableCell>
                    <TableCell className="text-right">
                      <Button asChild size="sm">
                        <Link href={`/admin/review/${entry.id}`}>
                          å®¡æ ¸
                        </Link>
                      </Button>
                    </TableCell>
                  </TableRow>
                ))}
              </TableBody>
            </Table>
          </div>
        ) : (
          <div className="border rounded-lg p-8 text-center text-slate-500">
            æš‚æ— å¾…å®¡æ ¸å†…å®¹
          </div>
        )}
      </div>

      {/* æœ€è¿‘å®¡æ ¸è®°å½• */}
      <div>
        <h2 className="text-xl font-semibold mb-4">æœ€è¿‘å®¡æ ¸è®°å½•</h2>

        {recentReviewed.length > 0 ? (
          <div className="border rounded-lg">
            <Table>
              <TableHeader>
                <TableRow>
                  <TableHead>ä¸­æ–‡åç§°</TableHead>
                  <TableHead>çŠ¶æ€</TableHead>
                  <TableHead>å®¡æ ¸æ—¶é—´</TableHead>
                  <TableHead>å®¡æ ¸äºº</TableHead>
                  <TableHead>å®¡æ ¸æ„è§</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
                {recentReviewed.map((entry) => (
                  <TableRow key={entry.id}>
                    <TableCell>{entry.nameZh}</TableCell>
                    <TableCell>
                      <Badge
                        variant={
                          entry.status === 'PUBLISHED'
                            ? 'default'
                            : 'destructive'
                        }
                      >
                        {entry.status === 'PUBLISHED' ? 'å·²é€šè¿‡' : 'å·²æ‹’ç»'}
                      </Badge>
                    </TableCell>
                    <TableCell>
                      {entry.reviewedAt &&
                        new Date(entry.reviewedAt).toLocaleString('zh-CN')}
                    </TableCell>
                    <TableCell>{entry.reviewedBy || '-'}</TableCell>
                    <TableCell className="max-w-xs truncate">
                      {entry.reviewNote || '-'}
                    </TableCell>
                  </TableRow>
                ))}
              </TableBody>
            </Table>
          </div>
        ) : (
          <div className="border rounded-lg p-8 text-center text-slate-500">
            æš‚æ— å®¡æ ¸è®°å½•
          </div>
        )}
      </div>
    </div>
  )
}
```

##### æ­¥éª¤ 5: åˆ›å»ºå®¡æ ¸è¯¦æƒ…é¡µ

**åˆ›å»º**: `app/admin/review/[id]/page.tsx`

```typescript
import { notFound, redirect } from 'next/navigation'
import { prisma } from '@/lib/db/client'
import { ReviewActions } from '@/components/admin/ReviewActions'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { Badge } from '@/components/ui/badge'

interface ReviewDetailPageProps {
  params: {
    id: string
  }
}

export default async function ReviewDetailPage({ params }: ReviewDetailPageProps) {
  const entry = await prisma.potteryEntry.findUnique({
    where: { id: params.id },
    include: {
      artist: true,
    },
  })

  if (!entry) {
    notFound()
  }

  // å¦‚æœä¸æ˜¯å¾…å®¡æ ¸çŠ¶æ€ï¼Œé‡å®šå‘åˆ°å®¡æ ¸åˆ—è¡¨
  if (entry.status !== 'PENDING') {
    redirect('/admin/review')
  }

  const signatureFeatures = entry.signatureFeatures as any as string[]
  const notableArtists = entry.notableArtists as any as string[]
  const representativeForms = entry.representativeForms as any as string[]
  const sources = entry.sources as any as { title: string; url: string }[]

  return (
    <div className="space-y-6 max-w-5xl">
      <div className="flex items-center justify-between">
        <div>
          <h1 className="text-2xl font-bold mb-2">{entry.nameZh}</h1>
          <p className="text-slate-600">{entry.nameJa}</p>
        </div>
        <Badge variant="outline">å¾…å®¡æ ¸</Badge>
      </div>

      {/* å®¡æ ¸æ“ä½œåŒº */}
      <ReviewActions entryId={entry.id} />

      {/* å†…å®¹é¢„è§ˆ */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div className="md:col-span-2 space-y-6">
          {/* åŸºç¡€ä¿¡æ¯ */}
          <Card>
            <CardHeader>
              <CardTitle>åŸºç¡€ä¿¡æ¯</CardTitle>
            </CardHeader>
            <CardContent className="space-y-4">
              <div>
                <p className="text-sm text-slate-500 mb-1">ä¸­æ–‡åç§°</p>
                <p className="font-medium">{entry.nameZh}</p>
              </div>

              <div>
                <p className="text-sm text-slate-500 mb-1">æ—¥æ–‡åç§°</p>
                <p className="font-medium">{entry.nameJa}</p>
              </div>

              {entry.nameEn && (
                <div>
                  <p className="text-sm text-slate-500 mb-1">è‹±æ–‡åç§°</p>
                  <p className="font-medium">{entry.nameEn}</p>
                </div>
              )}

              <div>
                <p className="text-sm text-slate-500 mb-1">åˆ†ç±»</p>
                <p className="font-medium">{entry.category}</p>
              </div>

              <div>
                <p className="text-sm text-slate-500 mb-1">äº§åœ°</p>
                <p className="font-medium">{entry.region}</p>
              </div>
            </CardContent>
          </Card>

          {/* æè¿° */}
          <Card>
            <CardHeader>
              <CardTitle>è¯¦ç»†ä»‹ç»</CardTitle>
            </CardHeader>
            <CardContent>
              <p className="whitespace-pre-wrap text-slate-700 leading-relaxed">
                {entry.description}
              </p>
            </CardContent>
          </Card>
        </div>

        {/* ä¾§è¾¹æ  */}
        <div className="space-y-6">
          {/* å®šä½è¯´æ˜ */}
          <Card>
            <CardHeader>
              <CardTitle className="text-lg">å®šä½è¯´æ˜</CardTitle>
            </CardHeader>
            <CardContent>
              <p className="text-sm">{entry.positioning}</p>
            </CardContent>
          </Card>

          {/* è¯†åˆ«ç‰¹å¾ */}
          {signatureFeatures.length > 0 && (
            <Card>
              <CardHeader>
                <CardTitle className="text-lg">è¯†åˆ«ç‰¹å¾</CardTitle>
              </CardHeader>
              <CardContent>
                <ul className="space-y-2">
                  {signatureFeatures.map((feature, index) => (
                    <li key={index} className="text-sm flex">
                      <span className="text-blue-600 mr-2">â€¢</span>
                      <span>{feature}</span>
                    </li>
                  ))}
                </ul>
              </CardContent>
            </Card>
          )}

          {/* å…³é”®è¯ */}
          <Card>
            <CardHeader>
              <CardTitle className="text-lg">å…³é”®è¯</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="flex flex-wrap gap-2">
                {entry.keywords.map((keyword) => (
                  <Badge key={keyword} variant="secondary">
                    {keyword}
                  </Badge>
                ))}
              </div>
            </CardContent>
          </Card>

          {/* å‚è€ƒæ¥æº */}
          <Card>
            <CardHeader>
              <CardTitle className="text-lg">å‚è€ƒæ¥æº</CardTitle>
            </CardHeader>
            <CardContent>
              <ul className="space-y-2">
                {sources.map((source, index) => (
                  <li key={index} className="text-sm">
                    <a
                      href={source.url}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="text-blue-600 hover:underline flex items-start"
                    >
                      <span className="mr-2">ğŸ”—</span>
                      <span>{source.title}</span>
                    </a>
                  </li>
                ))}
              </ul>
            </CardContent>
          </Card>
        </div>
      </div>
    </div>
  )
}
```

##### æ­¥éª¤ 6: åˆ›å»ºå®¡æ ¸æ“ä½œç»„ä»¶

**åˆ›å»º**: `components/admin/ReviewActions.tsx`

```typescript
'use client'

import { useState } from 'react'
import { useRouter } from 'next/navigation'
import { Button } from '@/components/ui/button'
import { Textarea } from '@/components/ui/textarea'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { Label } from '@/components/ui/label'

interface ReviewActionsProps {
  entryId: string
}

export function ReviewActions({ entryId }: ReviewActionsProps) {
  const router = useRouter()
  const [note, setNote] = useState('')
  const [isProcessing, setIsProcessing] = useState(false)

  const handleReview = async (action: 'approve' | 'reject' | 'request-changes') => {
    if (isProcessing) return

    const actionText =
      action === 'approve'
        ? 'æ‰¹å‡†å¹¶å‘å¸ƒ'
        : action === 'reject'
        ? 'æ‹’ç»'
        : 'è¯·æ±‚ä¿®æ”¹'

    if (!confirm(`ç¡®è®¤è¦${actionText}æ­¤æ¡ç›®å—ï¼Ÿ`)) {
      return
    }

    setIsProcessing(true)

    try {
      const response = await fetch(`/api/entries/${entryId}/review`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          Authorization: `Bearer ${
            process.env.NEXT_PUBLIC_ADMIN_PASSWORD || 'admin123'
          }`,
        },
        body: JSON.stringify({
          action,
          note: note.trim() || undefined,
        }),
      })

      const data = await response.json()

      if (data.success) {
        alert(`${actionText}æˆåŠŸï¼`)
        router.push('/admin/review')
        router.refresh()
      } else {
        alert(`æ“ä½œå¤±è´¥: ${data.error?.message || 'æœªçŸ¥é”™è¯¯'}`)
      }
    } catch (error) {
      console.error('å®¡æ ¸æ“ä½œé”™è¯¯:', error)
      alert('æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•')
    } finally {
      setIsProcessing(false)
    }
  }

  return (
    <Card className="bg-blue-50 border-blue-200">
      <CardHeader>
        <CardTitle>å®¡æ ¸æ“ä½œ</CardTitle>
      </CardHeader>
      <CardContent className="space-y-4">
        <div>
          <Label htmlFor="review-note">å®¡æ ¸æ„è§ (å¯é€‰)</Label>
          <Textarea
            id="review-note"
            value={note}
            onChange={(e) => setNote(e.target.value)}
            placeholder="è¯·è¾“å…¥å®¡æ ¸æ„è§æˆ–ä¿®æ”¹å»ºè®®..."
            rows={3}
            className="mt-2"
          />
        </div>

        <div className="flex gap-3">
          <Button
            onClick={() => handleReview('approve')}
            disabled={isProcessing}
            className="flex-1 bg-green-600 hover:bg-green-700"
          >
            âœ“ æ‰¹å‡†å¹¶å‘å¸ƒ
          </Button>

          <Button
            onClick={() => handleReview('request-changes')}
            disabled={isProcessing}
            variant="outline"
            className="flex-1"
          >
            âœ è¯·æ±‚ä¿®æ”¹
          </Button>

          <Button
            onClick={() => handleReview('reject')}
            disabled={isProcessing}
            variant="destructive"
            className="flex-1"
          >
            âœ— æ‹’ç»
          </Button>
        </div>

        {isProcessing && (
          <p className="text-sm text-center text-slate-600">å¤„ç†ä¸­...</p>
        )}
      </CardContent>
    </Card>
  )
}
```

##### æ­¥éª¤ 7: æ›´æ–°å‰å°æŸ¥è¯¢

**æ›´æ–°**: `app/(public)/page.tsx`

ä¿®æ”¹æŸ¥è¯¢æ¡ä»¶ï¼Œåªæ˜¾ç¤ºå·²å‘å¸ƒå†…å®¹:

```typescript
const where: any = {
  status: 'PUBLISHED', // æ›¿æ¢ published: true
}
```

**æ›´æ–°**: `app/(public)/pottery/[slug]/page.tsx`

```typescript
const entry = await prisma.potteryEntry.findUnique({
  where: { slug: params.slug },
  include: { artist: true },
})

// ä¿®æ”¹æ£€æŸ¥æ¡ä»¶
if (!entry || entry.status !== 'PUBLISHED') {
  notFound()
}
```

##### æ­¥éª¤ 8: æ›´æ–°ä¾§è¾¹æ å¯¼èˆª

**æ›´æ–°**: `app/admin/layout.tsx`

æ·»åŠ å®¡æ ¸å…¥å£:

```typescript
const navItems = [
  { href: '/admin', label: 'ä»ªè¡¨ç›˜', icon: 'ğŸ“Š' },
  { href: '/admin/entries', label: 'é™¶å™¨ç®¡ç†', icon: 'ğŸº' },
  { href: '/admin/artists', label: 'ä½œå®¶ç®¡ç†', icon: 'ğŸ‘¨â€ğŸ¨' },
  { href: '/admin/review', label: 'å†…å®¹å®¡æ ¸', icon: 'âœ“', badge: pendingCount },
  { href: '/admin/import', label: 'æ‰¹é‡å¯¼å…¥', icon: 'ğŸ“¥' },
]
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] çŠ¶æ€ç³»ç»Ÿæ­£å¸¸å·¥ä½œ (DRAFT/PENDING/PUBLISHED/REJECTED/ARCHIVED)
- [ ] å®¡æ ¸åˆ—è¡¨é¡µæ˜¾ç¤ºå¾…å®¡æ ¸å†…å®¹
- [ ] å®¡æ ¸è¯¦æƒ…é¡µæ˜¾ç¤ºå®Œæ•´ä¿¡æ¯
- [ ] æ‰¹å‡†æ“ä½œæ­£å¸¸ï¼Œå†…å®¹å˜ä¸º PUBLISHED
- [ ] æ‹’ç»æ“ä½œæ­£å¸¸ï¼Œå†…å®¹å˜ä¸º REJECTED
- [ ] å‰å°åªæ˜¾ç¤º PUBLISHED çŠ¶æ€å†…å®¹
- [ ] å®¡æ ¸è®°å½•æ­£ç¡®ä¿å­˜

**æµ‹è¯•**:
1. åˆ›å»ºä¸€ä¸ªè‰ç¨¿æ¡ç›®ï¼Œæäº¤å®¡æ ¸ï¼ˆçŠ¶æ€ â†’ PENDINGï¼‰
2. è®¿é—®å®¡æ ¸åˆ—è¡¨é¡µï¼Œçœ‹åˆ°å¾…å®¡æ ¸æ¡ç›®
3. è¿›å…¥å®¡æ ¸è¯¦æƒ…é¡µï¼Œæ‰¹å‡†æ¡ç›®
4. éªŒè¯æ¡ç›®çŠ¶æ€å˜ä¸º PUBLISHED
5. å‰å°é¡µé¢èƒ½çœ‹åˆ°è¯¥æ¡ç›®
6. æµ‹è¯•æ‹’ç»æµç¨‹

---

### Day 10 (2026-03-07): ç»Ÿè®¡åˆ†æä»ªè¡¨ç›˜

#### ä»»åŠ¡ 2.9: å®ç°ç»Ÿè®¡åˆ†æä»ªè¡¨ç›˜

**é¢„è®¡è€—æ—¶**: 4å°æ—¶

**ç›®æ ‡**: æä¾›è¿è¥æ´å¯Ÿå’Œæ•°æ®å¯è§†åŒ–

**åŠŸèƒ½éœ€æ±‚**:

1. **æ ¸å¿ƒç»Ÿè®¡**
   - æ€»æ¡ç›®æ•°ã€å·²å‘å¸ƒæ•°ã€è‰ç¨¿æ•°ã€å¾…å®¡æ ¸æ•°
   - æ€»ä½œå®¶æ•°ã€å·²å‘å¸ƒä½œå®¶æ•°
   - æŒ‰åˆ†ç±»ç»Ÿè®¡
   - æŒ‰äº§åœ°ç»Ÿè®¡

2. **è¶‹åŠ¿åˆ†æ**
   - æ¯æ—¥æ–°å¢æ¡ç›®å›¾è¡¨
   - æ¯å‘¨å‘å¸ƒç»Ÿè®¡
   - æœˆåº¦å¢é•¿è¶‹åŠ¿

3. **çƒ­é—¨æ’è¡Œ**
   - çƒ­é—¨æ¡ç›® Top 10ï¼ˆåŸºäºåˆ›å»ºæ—¶é—´ï¼Œæœªæ¥å¯æ·»åŠ æµè§ˆé‡ï¼‰
   - çƒ­é—¨åˆ†ç±»
   - çƒ­é—¨äº§åœ°

**å®ç°æ­¥éª¤**:

##### æ­¥éª¤ 1: åˆ›å»ºç»Ÿè®¡ API

**åˆ›å»º**: `app/api/stats/route.ts`

```typescript
import { NextRequest, NextResponse } from 'next/server'
import { prisma } from '@/lib/db/client'

export async function GET(request: NextRequest) {
  try {
    // 1. åŸºç¡€ç»Ÿè®¡
    const [
      totalEntries,
      publishedEntries,
      draftEntries,
      pendingEntries,
      totalArtists,
      publishedArtists,
    ] = await Promise.all([
      prisma.potteryEntry.count(),
      prisma.potteryEntry.count({ where: { status: 'PUBLISHED' } }),
      prisma.potteryEntry.count({ where: { status: 'DRAFT' } }),
      prisma.potteryEntry.count({ where: { status: 'PENDING' } }),
      prisma.artist.count(),
      prisma.artist.count({ where: { status: 'PUBLISHED' } }),
    ])

    // 2. æŒ‰åˆ†ç±»ç»Ÿè®¡
    const byCategory = await prisma.potteryEntry.groupBy({
      by: ['category'],
      _count: true,
      where: { status: 'PUBLISHED' },
    })

    // 3. æŒ‰äº§åœ°ç»Ÿè®¡
    const byRegion = await prisma.potteryEntry.groupBy({
      by: ['region'],
      _count: true,
      where: { status: 'PUBLISHED' },
      orderBy: {
        _count: {
          region: 'desc',
        },
      },
      take: 10,
    })

    // 4. æœ€è¿‘30å¤©æ¯æ—¥æ–°å¢
    const thirtyDaysAgo = new Date()
    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30)

    const recentEntries = await prisma.potteryEntry.findMany({
      where: {
        createdAt: {
          gte: thirtyDaysAgo,
        },
      },
      select: {
        createdAt: true,
      },
    })

    // æŒ‰æ—¥æœŸåˆ†ç»„ç»Ÿè®¡
    const dailyStats = recentEntries.reduce((acc, entry) => {
      const date = entry.createdAt.toISOString().split('T')[0]
      acc[date] = (acc[date] || 0) + 1
      return acc
    }, {} as Record<string, number>)

    // 5. æœ€è¿‘æ›´æ–°çš„æ¡ç›®
    const recentUpdated = await prisma.potteryEntry.findMany({
      where: { status: 'PUBLISHED' },
      orderBy: { updatedAt: 'desc' },
      take: 10,
      select: {
        id: true,
        slug: true,
        nameZh: true,
        nameJa: true,
        updatedAt: true,
      },
    })

    // 6. çƒ­é—¨ä½œå®¶ï¼ˆæŒ‰ç²‰ä¸æ•°ï¼‰
    const topArtists = await prisma.artist.findMany({
      where: {
        status: 'PUBLISHED',
        instagramFollowers: { not: null },
      },
      orderBy: {
        instagramFollowers: 'desc',
      },
      take: 10,
      select: {
        slug: true,
        nameZh: true,
        instagramFollowers: true,
      },
    })

    return NextResponse.json({
      success: true,
      data: {
        overview: {
          totalEntries,
          publishedEntries,
          draftEntries,
          pendingEntries,
          totalArtists,
          publishedArtists,
        },
        byCategory: byCategory.map((item) => ({
          category: item.category,
          count: item._count,
        })),
        byRegion: byRegion.map((item) => ({
          region: item.region,
          count: item._count,
        })),
        dailyStats,
        recentUpdated,
        topArtists,
      },
    })
  } catch (error: any) {
    console.error('è·å–ç»Ÿè®¡æ•°æ®é”™è¯¯:', error)

    return NextResponse.json(
      {
        success: false,
        error: {
          code: 'SERVER_ERROR',
          message: error.message || 'è·å–ç»Ÿè®¡æ•°æ®å¤±è´¥',
        },
      },
      { status: 500 }
    )
  }
}
```

##### æ­¥éª¤ 2: å®‰è£…å›¾è¡¨åº“

```bash
pnpm add recharts
```

##### æ­¥éª¤ 3: åˆ›å»ºç»Ÿè®¡ç»„ä»¶

**åˆ›å»º**: `components/admin/StatCard.tsx`

```typescript
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'

interface StatCardProps {
  title: string
  value: number | string
  subtitle?: string
  icon?: string
  trend?: {
    value: number
    isPositive: boolean
  }
}

export function StatCard({ title, value, subtitle, icon, trend }: StatCardProps) {
  return (
    <Card>
      <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
        <CardTitle className="text-sm font-medium">{title}</CardTitle>
        {icon && <span className="text-2xl">{icon}</span>}
      </CardHeader>
      <CardContent>
        <div className="text-2xl font-bold">{value}</div>
        {subtitle && (
          <p className="text-xs text-muted-foreground mt-1">{subtitle}</p>
        )}
        {trend && (
          <div className="flex items-center mt-2 text-xs">
            <span
              className={
                trend.isPositive ? 'text-green-600' : 'text-red-600'
              }
            >
              {trend.isPositive ? 'â†‘' : 'â†“'} {Math.abs(trend.value)}%
            </span>
            <span className="text-muted-foreground ml-2">vs ä¸Šå‘¨</span>
          </div>
        )}
      </CardContent>
    </Card>
  )
}
```

**åˆ›å»º**: `components/admin/DailyChart.tsx`

```typescript
'use client'

import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import {
  LineChart,
  Line,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  ResponsiveContainer,
} from 'recharts'

interface DailyChartProps {
  data: Record<string, number>
}

export function DailyChart({ data }: DailyChartProps) {
  // è½¬æ¢æ•°æ®æ ¼å¼
  const chartData = Object.entries(data)
    .map(([date, count]) => ({
      date: new Date(date).toLocaleDateString('zh-CN', {
        month: 'numeric',
        day: 'numeric',
      }),
      count,
    }))
    .slice(-14) // æœ€è¿‘14å¤©

  return (
    <Card>
      <CardHeader>
        <CardTitle>æœ€è¿‘14å¤©æ–°å¢æ¡ç›®</CardTitle>
      </CardHeader>
      <CardContent>
        <div className="h-[300px]">
          <ResponsiveContainer width="100%" height="100%">
            <LineChart data={chartData}>
              <CartesianGrid strokeDasharray="3 3" />
              <XAxis dataKey="date" />
              <YAxis />
              <Tooltip />
              <Line
                type="monotone"
                dataKey="count"
                stroke="#3b82f6"
                strokeWidth={2}
                dot={{ r: 4 }}
              />
            </LineChart>
          </ResponsiveContainer>
        </div>
      </CardContent>
    </Card>
  )
}
```

##### æ­¥éª¤ 4: æ›´æ–°ä»ªè¡¨ç›˜é¡µé¢

**æ›´æ–°**: `app/admin/page.tsx`

```typescript
import Link from 'next/link'
import { Button } from '@/components/ui/button'
import { StatCard } from '@/components/admin/StatCard'
import { DailyChart } from '@/components/admin/DailyChart'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'

async function getStats() {
  const response = await fetch(
    `${process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'}/api/stats`,
    {
      cache: 'no-store',
    }
  )

  if (!response.ok) {
    throw new Error('è·å–ç»Ÿè®¡æ•°æ®å¤±è´¥')
  }

  const data = await response.json()
  return data.data
}

export default async function AdminDashboard() {
  const stats = await getStats()

  return (
    <div className="space-y-8">
      <div>
        <h1 className="text-2xl font-bold mb-2">ä»ªè¡¨ç›˜</h1>
        <p className="text-slate-600">æ¦‚è§ˆé¡¹ç›®ç»Ÿè®¡æ•°æ®å’Œæœ€è¿‘æ´»åŠ¨</p>
      </div>

      {/* æ ¸å¿ƒæŒ‡æ ‡ */}
      <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
        <StatCard
          title="æ€»æ¡ç›®æ•°"
          value={stats.overview.totalEntries}
          subtitle={`å·²å‘å¸ƒ ${stats.overview.publishedEntries} ä¸ª`}
          icon="ğŸº"
        />
        <StatCard
          title="å¾…å®¡æ ¸"
          value={stats.overview.pendingEntries}
          subtitle="éœ€è¦å®¡æ ¸"
          icon="â³"
        />
        <StatCard
          title="æ€»ä½œå®¶æ•°"
          value={stats.overview.totalArtists}
          subtitle={`å·²å‘å¸ƒ ${stats.overview.publishedArtists} ä½`}
          icon="ğŸ‘¨â€ğŸ¨"
        />
        <StatCard
          title="è‰ç¨¿"
          value={stats.overview.draftEntries}
          subtitle="æœªå‘å¸ƒ"
          icon="ğŸ“"
        />
      </div>

      {/* å›¾è¡¨å’Œåˆ—è¡¨ */}
      <div className="grid gap-6 md:grid-cols-2">
        {/* æ¯æ—¥æ–°å¢å›¾è¡¨ */}
        <DailyChart data={stats.dailyStats} />

        {/* æŒ‰åˆ†ç±»ç»Ÿè®¡ */}
        <Card>
          <CardHeader>
            <CardTitle>æŒ‰åˆ†ç±»ç»Ÿè®¡</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="space-y-3">
              {stats.byCategory.map((item: any) => (
                <div key={item.category} className="flex items-center">
                  <div className="flex-1">
                    <p className="text-sm font-medium">{item.category}</p>
                  </div>
                  <div className="text-right">
                    <p className="text-sm font-bold">{item.count}</p>
                  </div>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>

        {/* æŒ‰äº§åœ°ç»Ÿè®¡ */}
        <Card>
          <CardHeader>
            <CardTitle>çƒ­é—¨äº§åœ° Top 10</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="space-y-3">
              {stats.byRegion.map((item: any, index: number) => (
                <div key={item.region} className="flex items-center">
                  <span className="text-slate-400 w-6">{index + 1}</span>
                  <div className="flex-1">
                    <p className="text-sm">{item.region}</p>
                  </div>
                  <div className="text-right">
                    <p className="text-sm font-medium">{item.count}</p>
                  </div>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>

        {/* æœ€è¿‘æ›´æ–° */}
        <Card>
          <CardHeader>
            <CardTitle>æœ€è¿‘æ›´æ–°</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="space-y-3">
              {stats.recentUpdated.map((entry: any) => (
                <div key={entry.id} className="flex items-center justify-between">
                  <div>
                    <Link
                      href={`/admin/entries/${entry.id}/edit`}
                      className="text-sm font-medium hover:text-blue-600"
                    >
                      {entry.nameZh}
                    </Link>
                    <p className="text-xs text-slate-500">{entry.nameJa}</p>
                  </div>
                  <p className="text-xs text-slate-400">
                    {new Date(entry.updatedAt).toLocaleDateString('zh-CN')}
                  </p>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>
      </div>

      {/* å¿«æ·æ“ä½œ */}
      <Card>
        <CardHeader>
          <CardTitle>å¿«æ·æ“ä½œ</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="flex flex-wrap gap-3">
            <Button asChild>
              <Link href="/admin/entries/new">â• æ–°å»ºæ¡ç›®</Link>
            </Button>
            <Button asChild variant="outline">
              <Link href="/admin/review">âœ“ å†…å®¹å®¡æ ¸</Link>
            </Button>
            <Button asChild variant="outline">
              <Link href="/admin/import">ğŸ“¥ æ‰¹é‡å¯¼å…¥</Link>
            </Button>
            <Button asChild variant="outline">
              <Link href="/api/export/json" target="_blank">
                ğŸ“¤ å¯¼å‡ºæ•°æ®
              </Link>
            </Button>
          </div>
        </CardContent>
      </Card>
    </div>
  )
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ ¸å¿ƒç»Ÿè®¡æ•°æ®æ˜¾ç¤ºæ­£ç¡®
- [ ] æ¯æ—¥æ–°å¢å›¾è¡¨æ­£å¸¸æ˜¾ç¤º
- [ ] æŒ‰åˆ†ç±»/äº§åœ°ç»Ÿè®¡æ­£ç¡®
- [ ] æœ€è¿‘æ›´æ–°åˆ—è¡¨æ­£å¸¸
- [ ] å›¾è¡¨å“åº”å¼è®¾è®¡è‰¯å¥½

**æµ‹è¯•**:
1. è®¿é—® /admin
2. æŸ¥çœ‹æ‰€æœ‰ç»Ÿè®¡å¡ç‰‡æ•°æ®
3. éªŒè¯å›¾è¡¨æ˜¾ç¤º
4. æ£€æŸ¥æ•°æ®å‡†ç¡®æ€§

---

### ç¬¬äºŒå‘¨æ€»ç»“

**å®Œæˆçš„ä»»åŠ¡**:
- [x] æ‰¹é‡ç¼–è¾‘åŠŸèƒ½
- [x] å†…å®¹å®¡æ ¸å·¥ä½œæµ
- [x] ç»Ÿè®¡åˆ†æä»ªè¡¨ç›˜

**å…³é”®æˆæœ**:
- ç®¡ç†æ•ˆç‡æå‡ 50%+
- å†…å®¹è´¨é‡æ§åˆ¶æµç¨‹å»ºç«‹
- è¿è¥æ•°æ®å¯è§†åŒ–

**è¾“å‡ºæ–‡æ¡£**:
- æ‰¹é‡æ“ä½œä½¿ç”¨æŒ‡å—
- å®¡æ ¸æµç¨‹è¯´æ˜æ–‡æ¡£

---

## ç¬¬ä¸‰-å››å‘¨è®¡åˆ’ï¼šå†…å®¹æ‰©å±•ç ”ç©¶

**æ—¶é—´**: 2026-03-10 ~ 2026-03-23 (10ä¸ªå·¥ä½œæ—¥)
**ä¸»è¦è´Ÿè´£**: Content Research Agent + AI Assistant
**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­é«˜

### ç›®æ ‡

1. **å†…å®¹é‡**: ä» 81 å¢åŠ åˆ° 200-300
2. **åœ°åŸŸè¦†ç›–**: è¡¥å……è¥¿æ—¥æœ¬åœ°åŒºï¼ˆä¹å·ã€åŒ—é™†ï¼‰
3. **å…³è”å®Œå–„**: è¡¥å……8ä¸ªç¼ºå¤±çš„ä½œå®¶å…³è”
4. **å›¾ç‰‡æ”¶é›†**: æ”¶é›†å’Œä¸Šä¼ å›¾ç‰‡ç´ æ

### Week 3 (2026-03-10 ~ 2026-03-16): è¥¿æ—¥æœ¬ä½œå®¶ç ”ç©¶

#### Day 11-15: ä¹å·åœ°åŒºä½œå®¶

**ç›®æ ‡äº§åœ°**:
- æœ‰ç”°çƒ§/ä¼Šä¸‡é‡Œçƒ§ (Arita/Imari) - ä½è´ºå¿
- å”æ´¥çƒ§ (Karatsu) - ä½è´ºå¿
- è©çƒ§ (Hagi) - å±±å£å¿
- è–©æ‘©ç„¼ (Satsuma) - é¹¿å„¿å²›å¿

**ç ”ç©¶æ­¥éª¤**:

1. **ä½¿ç”¨ WebSearch æœç´¢ä½œå®¶ä¿¡æ¯**

```
æœç´¢å…³é”®è¯ç¤ºä¾‹:
- "æœ‰ç”°çƒ§ é™¶è‰ºå®¶ 2025"
- "å”æ´¥çƒ§ äººé—´å›½å®"
- "è©çƒ§ ä½œå®¶ Instagram"
- "ä½è´ºå¿ é™¶è‰º"
```

2. **ä½¿ç”¨ WebFetch æå–è¯¦ç»†ä¿¡æ¯**

è®¿é—®ä»¥ä¸‹ç½‘ç«™:
- æ—¥æœ¬é™¶ç£åä¼š: https://www.ceramic.or.jp/
- å„äº§åœ°å®˜æ–¹ç½‘ç«™
- ä½œå®¶ä¸ªäººç½‘ç«™å’Œ Instagram

3. **ä¿¡æ¯æå–æ¸…å•**

æ¯ä½ä½œå®¶éœ€è¦æ”¶é›†:
- åŸºç¡€ä¿¡æ¯: å§“åï¼ˆä¸­æ—¥è‹±ï¼‰ã€å‡ºç”Ÿå¹´ä»½
- èŒä¸šä¿¡æ¯: äº§åœ°ã€é£æ ¼ã€æŠ€æ³•
- æˆå°±: å¥–é¡¹ã€å±•è§ˆã€å¸ˆæ‰¿å…³ç³»
- ç¤¾äº¤åª’ä½“: Instagram è´¦å·ã€ç²‰ä¸æ•°
- å‚è€ƒæ¥æº: è‡³å°‘3ä¸ªæƒå¨æ¥æº

4. **æ•°æ®æ•´ç†**

ä½¿ç”¨æ‰¹é‡å¯¼å…¥ JSON æ ¼å¼:

```json
[
  {
    "slug": "artist-slug",
    "nameZh": "ä¸­æ–‡å",
    "nameJa": "æ—¥æ–‡å",
    "nameEn": "English Name",
    "bio": "è¯¦ç»†ç®€ä»‹...",
    "birthYear": 1950,
    "region": "ä½è´ºå¿Â·æœ‰ç”°ç”º",
    "style": "ä¼ ç»Ÿæœ‰ç”°ç“·",
    "awards": ["å¥–é¡¹1", "å¥–é¡¹2"],
    "exhibitions": ["å±•è§ˆ1", "å±•è§ˆ2"],
    "sources": [
      {
        "title": "æ¥æºæ ‡é¢˜",
        "url": "https://..."
      }
    ],
    "instagramHandle": "username",
    "instagramFollowers": 50000
  }
]
```

**ç›®æ ‡**: æ–°å¢ 15-20 ä½ä¹å·ä½œå®¶

---

#### æ¯æ—¥å·¥ä½œæµç¨‹

**ä¸Šåˆ (3å°æ—¶)**: ç ”ç©¶å’Œæ•°æ®æ”¶é›†
1. é€‰æ‹©ä¸€ä¸ªäº§åœ°ï¼ˆä¾‹å¦‚ï¼šæœ‰ç”°çƒ§ï¼‰
2. æœç´¢è¯¥äº§åœ°çš„ä»£è¡¨æ€§ä½œå®¶ï¼ˆç›®æ ‡: 3-5ä½ï¼‰
3. é€ä¸ªä½œå®¶æ·±å…¥ç ”ç©¶ï¼Œæ”¶é›†å®Œæ•´ä¿¡æ¯
4. æ•´ç†ä¸ºç»“æ„åŒ– JSON æ•°æ®

**ä¸‹åˆ (2å°æ—¶)**: æ•°æ®å¯¼å…¥å’ŒéªŒè¯
1. ä½¿ç”¨æ‰¹é‡å¯¼å…¥åŠŸèƒ½å¯¼å…¥æ•°æ®
2. æ£€æŸ¥å¯¼å…¥ç»“æœï¼Œä¿®æ­£é”™è¯¯
3. åœ¨å‰å°é¡µé¢éªŒè¯æ˜¾ç¤ºæ•ˆæœ
4. è®°å½•ç ”ç©¶ç¬”è®°å’Œå‚è€ƒæ¥æº

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ¯ä½ä½œå®¶ä¿¡æ¯å®Œæ•´ï¼ˆæ— ç¼ºå¤±å­—æ®µï¼‰
- [ ] è‡³å°‘3ä¸ªå‚è€ƒæ¥æº
- [ ] ç®€ä»‹å†…å®¹ > 200å­—
- [ ] Instagram æ•°æ®å‡†ç¡®ï¼ˆå¦‚æœ‰ï¼‰

---

### Week 4 (2026-03-17 ~ 2026-03-23): åŒ—é™†åœ°åŒº + å…³è”å…³ç³»è¡¥å……

#### Day 16-18: åŒ—é™†åœ°åŒºä½œå®¶

**ç›®æ ‡äº§åœ°**:
- ä¹è°·çƒ§ (Kutani) - çŸ³å·å¿
- è¶Šå‰çƒ§ (Echizen) - ç¦äº•å¿

**ç ”ç©¶æ­¥éª¤**: åŒä¸Š

**ç›®æ ‡**: æ–°å¢ 10-15 ä½åŒ—é™†ä½œå®¶

---

#### Day 19-20: è¡¥å……ä½œå®¶-é™¶å™¨å…³è”å…³ç³»

**ç›®æ ‡**: è¡¥å……8ä¸ªç¼ºå¤±å…³è”çš„é™¶å™¨æ¡ç›®

**ç¼ºå¤±å…³è”çš„æ¡ç›®**:
1. å¸¸æ»‘çƒ§ (Tokoname-yaki)
2. æ¿‘æˆ·çƒ§ (Seto-yaki)
3. ä¸¹æ³¢çƒ§ (Tamba-yaki)
4. è¶Šå‰çƒ§ (Echizen-yaki)
5. ä¹çƒ§ (Raku)
6. è©çƒ§ (Hagi)
7. ä¹è°·çƒ§ (Kutani)
8. ä¼Šä¸‡é‡ŒÂ·æœ‰ç”°çƒ§ (Imari-Arita)

**å·¥ä½œæ­¥éª¤**:

1. **ç ”ç©¶æ¯ä¸ªäº§åœ°çš„ä»£è¡¨æ€§ä½œå®¶**

æœç´¢å…³é”®è¯:
```
"å¸¸æ»‘çƒ§ ä½œå®¶"
"Tokoname pottery artists"
"å¸¸æ»‘ äººé—´å›½å®"
```

2. **ç¡®å®šå…³è”å…³ç³»**

åŸºäºä»¥ä¸‹æ ‡å‡†:
- ä½œå®¶çš„ä¸»è¦å·¥ä½œäº§åœ°
- å¸ˆæ‰¿å…³ç³»å’Œä¼ æ‰¿
- è·å¥–è®°å½•ä¸­æåŠçš„æŠ€æ³•

3. **æ›´æ–°æ•°æ®**

æ–¹å¼1: é€šè¿‡åå°æ‰¹é‡æ›´æ–°
```typescript
// ä½¿ç”¨æ‰¹é‡æ›´æ–° API
{
  "ids": ["entry-id-1", "entry-id-2"],
  "action": "update",
  "updates": {
    "relatedArtists": ["artist-slug-1", "artist-slug-2"]
  }
}
```

æ–¹å¼2: ç›´æ¥ç¼–è¾‘æ¡ç›®
- åœ¨åå°é€ä¸ªç¼–è¾‘æ¡ç›®
- åœ¨"ç›¸å…³ä½œå®¶"å­—æ®µæ·»åŠ ä½œå®¶å…³è”

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰21ä¸ªé™¶å™¨æ¡ç›®éƒ½æœ‰å…³è”ä½œå®¶
- [ ] æ¯ä¸ªæ¡ç›®è‡³å°‘å…³è”1ä½ä½œå®¶
- [ ] å…³è”å…³ç³»åˆç†ï¼ˆä½œå®¶ç¡®å®ä¸è¯¥é™¶å™¨ä¼ ç»Ÿç›¸å…³ï¼‰

---

### å†…å®¹æ‰©å±•æ€»ç»“

**é¢„æœŸæˆæœ** (ç¬¬ä¸‰-å››å‘¨ç»“æŸ):
- æ€»ä½œå®¶æ•°: 60 â†’ 85-95 ä½
- æ€»é™¶å™¨æ¡ç›®: 21 (ä¿æŒä¸å˜ï¼Œä½†å…³è”å®Œå–„)
- åœ°åŸŸè¦†ç›–: å…¨é¢ï¼ˆå…³ä¸œã€ä¸­éƒ¨ã€å…³è¥¿ã€ä¹å·ã€åŒ—é™†ï¼‰
- å…³è”å…³ç³»: 100% å®Œæ•´

**æ•°æ®è´¨é‡æ£€æŸ¥æ¸…å•**:
- [ ] æ‰€æœ‰ä½œå®¶ç®€ä»‹ > 200å­—
- [ ] æ‰€æœ‰ä½œå®¶è‡³å°‘3ä¸ªå‚è€ƒæ¥æº
- [ ] Instagram æ•°æ®å‡†ç¡®
- [ ] æ— é‡å¤æ¡ç›®
- [ ] æ— æ˜æ˜¾é”™è¯¯ä¿¡æ¯

---

## ç¬¬äº”-å…­å‘¨è®¡åˆ’ï¼šé«˜çº§åŠŸèƒ½å¼€å‘ (å¯é€‰)

**æ—¶é—´**: 2026-03-24 ~ 2026-04-06
**ä¼˜å…ˆçº§**: ğŸŸ¢ ä½ (æ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯å¦æ‰§è¡Œ)

### å¯é€‰åŠŸèƒ½åˆ—è¡¨

#### 1. é«˜çº§ç­›é€‰åŠŸèƒ½
- å¤šæ¡ä»¶ç»„åˆç­›é€‰
- æ ‡ç­¾äº‘
- ç­›é€‰å†å²è®°å½•
- é¢„ä¼°è€—æ—¶: 3å¤©

#### 2. ç›¸å…³æ¨è
- åŸºäºæ ‡ç­¾ç›¸ä¼¼åº¦çš„æ¨èç®—æ³•
- è¯¦æƒ…é¡µåº•éƒ¨æ˜¾ç¤ºç›¸å…³æ¡ç›®
- é¢„ä¼°è€—æ—¶: 2å¤©

#### 3. åœ°å›¾åŠŸèƒ½ (Leaflet.js)
- åœ¨åœ°å›¾ä¸Šæ ‡æ³¨äº§åœ°
- ç‚¹å‡»æ ‡è®°æŸ¥çœ‹è¯¥äº§åœ°çš„æ¡ç›®
- é¢„ä¼°è€—æ—¶: 4å¤©

#### 4. Instagram æ•°æ®åŒæ­¥ (Basic Display API)
- è‡ªåŠ¨åŒæ­¥ç²‰ä¸æ•°
- æ¯æ—¥æ›´æ–°
- é¢„ä¼°è€—æ—¶: 5å¤©

#### 5. æ—¥å¼ UI å®šåˆ¶
- å’Œçº¸è´¨æ„ŸèƒŒæ™¯
- ä¼ ç»Ÿé…è‰²æ–¹æ¡ˆ
- ç»†è…»åŠ¨ç”»æ•ˆæœ
- é¢„ä¼°è€—æ—¶: 5å¤©

---

## æ‰§è¡ŒæŒ‡å—

### å¼€å§‹å‰å‡†å¤‡

1. **ç¯å¢ƒæ£€æŸ¥**
```bash
# ç¡®è®¤æ•°æ®åº“è¿è¡Œ
docker ps | grep postgres-pottery

# ç¡®è®¤ä¾èµ–å®‰è£…å®Œæ•´
pnpm install

# ç¡®è®¤ä»£ç æœ€æ–°
git pull origin main
```

2. **åˆ›å»ºå·¥ä½œåˆ†æ”¯**
```bash
git checkout -b phase-2-development
```

3. **é˜…è¯»ç›¸å…³æ–‡æ¡£**
- `docs/DAILY-LOG.md` - äº†è§£å½“å‰è¿›åº¦
- `docs/plans/phase-1-implementation-plan.md` - å›é¡¾é˜¶æ®µ1
- `docs/AI-CONTENT-GUIDE.md` - å†…å®¹å¡«å……æŒ‡å—

---

### æ¯æ—¥å·¥ä½œæµç¨‹

#### æ—©ä¸Šå¼€å§‹å·¥ä½œæ—¶

1. **æ›´æ–° DAILY-LOG.md**
```markdown
## ğŸš§ è¿›è¡Œä¸­ä»»åŠ¡

- [ ] **TASK-2.X**: ä»»åŠ¡åç§°
  - **å¼€å§‹æ—¶é—´**: 2026-XX-XX XX:XX
  - **é¢„è®¡è€—æ—¶**: X å°æ—¶
```

2. **å¯åŠ¨ç¯å¢ƒ**
```bash
# å¯åŠ¨æ•°æ®åº“
docker start postgres-pottery

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

3. **æ‰“å¼€ Prisma Studio (å¯é€‰)**
```bash
pnpm prisma studio
```

#### å·¥ä½œä¸­

4. **æŒ‰è®¡åˆ’æ‰§è¡Œä»»åŠ¡**
- éµå¾ªæœ¬è®¡åˆ’ä¸­çš„è¯¦ç»†æ­¥éª¤
- é‡åˆ°é—®é¢˜åŠæ—¶è®°å½•
- ä»£ç éµå¾ªç°æœ‰è§„èŒƒ

5. **å®šæœŸæäº¤ä»£ç **
```bash
# æ¯å®Œæˆä¸€ä¸ªå°åŠŸèƒ½å°±æäº¤
git add .
git commit -m "feat(task-2.x): å®ŒæˆXXXåŠŸèƒ½"
```

#### æ™šä¸Šç»“æŸå·¥ä½œæ—¶

6. **æ›´æ–°ä»»åŠ¡çŠ¶æ€**
```markdown
## âœ… å·²å®Œæˆä»»åŠ¡ï¼ˆæœ¬æ—¥ï¼‰

- [x] **TASK-2.X**: ä»»åŠ¡åç§°
  - **å®Œæˆæ—¶é—´**: 2026-XX-XX XX:XX
  - **å®é™…è€—æ—¶**: X å°æ—¶
  - âœ… å®Œæˆé¡¹1
  - âœ… å®Œæˆé¡¹2
```

7. **æ¨é€ä»£ç **
```bash
git push origin phase-2-development
```

8. **è®°å½•æ˜æ—¥è®¡åˆ’**
```markdown
## ğŸ“ æ˜æ—¥è®¡åˆ’

- TASK-2.X+1: ä¸‹ä¸€ä¸ªä»»åŠ¡
```

---

### é—®é¢˜è§£å†³æŒ‡å—

#### é—®é¢˜ 1: æ•°æ®åº“è¿æ¥å¤±è´¥

**ç—‡çŠ¶**: `ECONNREFUSED` é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker ps -a | grep postgres

# å¯åŠ¨å®¹å™¨
docker start postgres-pottery

# éªŒè¯è¿æ¥
docker exec -it postgres-pottery psql -U postgres -c "SELECT version();"
```

#### é—®é¢˜ 2: Prisma è¿ç§»å†²çª

**ç—‡çŠ¶**: Migration æ–‡ä»¶å†²çª

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡ç½®æ•°æ®åº“ (âš ï¸ ä»…å¼€å‘ç¯å¢ƒ)
pnpm prisma migrate reset

# é‡æ–°ç”Ÿæˆå®¢æˆ·ç«¯
pnpm prisma generate

# é‡æ–°æ’­ç§æ•°æ®
pnpm prisma db seed
```

#### é—®é¢˜ 3: æ„å»ºå¤±è´¥

**ç—‡çŠ¶**: `pnpm build` æŠ¥é”™

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¸…ç†ç¼“å­˜
rm -rf .next

# é‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules
pnpm install

# é‡æ–°æ„å»º
pnpm build
```

#### é—®é¢˜ 4: TypeScript ç±»å‹é”™è¯¯

**ç—‡çŠ¶**: ç±»å‹ä¸åŒ¹é…

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡æ–°ç”Ÿæˆ Prisma ç±»å‹
pnpm prisma generate

# æ£€æŸ¥ç±»å‹
pnpm tsc --noEmit
```

---

### ä»£ç è§„èŒƒ

#### TypeScript

```typescript
// âœ… å¥½çš„ç¤ºä¾‹
interface UserData {
  id: string
  name: string
}

async function getUser(id: string): Promise<UserData> {
  const user = await prisma.user.findUnique({ where: { id } })
  if (!user) throw new Error('User not found')
  return user
}

// âŒ é¿å…
function getUser(id: any) {
  return prisma.user.findUnique({ where: { id } })
}
```

#### API å“åº”æ ¼å¼

```typescript
// âœ… ç»Ÿä¸€æ ¼å¼
return NextResponse.json({
  success: true,
  data: result,
  meta: {
    total: 100,
    page: 1,
  },
})

// âœ… é”™è¯¯æ ¼å¼
return NextResponse.json({
  success: false,
  error: {
    code: 'VALIDATION_ERROR',
    message: 'éªŒè¯å¤±è´¥',
    details: {},
  },
}, { status: 400 })
```

#### React ç»„ä»¶

```typescript
// âœ… ä½¿ç”¨ TypeScript æ¥å£
interface CardProps {
  title: string
  children: React.ReactNode
}

export function Card({ title, children }: CardProps) {
  return <div>...</div>
}

// âœ… ä½¿ç”¨ 'use client' æŒ‡ä»¤ï¼ˆå®¢æˆ·ç«¯ç»„ä»¶ï¼‰
'use client'

import { useState } from 'react'
```

#### æ•°æ®åº“æŸ¥è¯¢

```typescript
// âœ… ä½¿ç”¨ç´¢å¼•å­—æ®µæŸ¥è¯¢
const entries = await prisma.potteryEntry.findMany({
  where: {
    status: 'PUBLISHED', // æœ‰ç´¢å¼•
    category: 'pottery',
  },
  orderBy: { createdAt: 'desc' }, // æœ‰ç´¢å¼•
})

// âœ… ä½¿ç”¨ include é¿å… N+1 æŸ¥è¯¢
const entries = await prisma.potteryEntry.findMany({
  include: { artist: true }, // ä¸€æ¬¡æŸ¥è¯¢è·å–å…³è”æ•°æ®
})
```

---

## éªŒæ”¶æ ‡å‡†

### ç¬¬ä¸€å‘¨éªŒæ”¶æ ‡å‡†

**æ€§èƒ½æŒ‡æ ‡**:
- [ ] é¦–é¡µåŠ è½½æ—¶é—´ < 1ç§’
- [ ] è¯¦æƒ…é¡µåŠ è½½æ—¶é—´ < 500ms
- [ ] API å“åº”æ—¶é—´ < 200ms
- [ ] Lighthouse æ€§èƒ½åˆ†æ•° > 85

**åŠŸèƒ½å®Œæ•´æ€§**:
- [ ] ISR æ­£å¸¸å·¥ä½œ
- [ ] æ•°æ®åº“ç´¢å¼•ç”Ÿæ•ˆ
- [ ] å›¾ç‰‡æ‡’åŠ è½½ç”Ÿæ•ˆ
- [ ] SEO å…ƒæ•°æ®å®Œæ•´
- [ ] Sitemap ç”ŸæˆæˆåŠŸ

**ä»£ç è´¨é‡**:
- [ ] æ—  TypeScript é”™è¯¯
- [ ] æ—  ESLint è­¦å‘Š
- [ ] æ„å»ºæˆåŠŸ
- [ ] æµ‹è¯•é€šè¿‡

---

### ç¬¬äºŒå‘¨éªŒæ”¶æ ‡å‡†

**æ‰¹é‡ç¼–è¾‘**:
- [ ] å¤šé€‰åŠŸèƒ½æ­£å¸¸
- [ ] æ‰¹é‡ä¿®æ”¹åˆ†ç±»ç”Ÿæ•ˆ
- [ ] æ‰¹é‡ä¿®æ”¹äº§åœ°ç”Ÿæ•ˆ
- [ ] æ‰¹é‡å‘å¸ƒ/å–æ¶ˆå‘å¸ƒç”Ÿæ•ˆ
- [ ] æ‰¹é‡åˆ é™¤éœ€ç¡®è®¤

**å®¡æ ¸å·¥ä½œæµ**:
- [ ] çŠ¶æ€ç³»ç»Ÿæ­£å¸¸å·¥ä½œ
- [ ] å®¡æ ¸åˆ—è¡¨æ˜¾ç¤ºæ­£ç¡®
- [ ] æ‰¹å‡†æ“ä½œæ­£å¸¸
- [ ] æ‹’ç»æ“ä½œæ­£å¸¸
- [ ] å‰å°åªæ˜¾ç¤º PUBLISHED å†…å®¹

**ç»Ÿè®¡ä»ªè¡¨ç›˜**:
- [ ] æ ¸å¿ƒç»Ÿè®¡å‡†ç¡®
- [ ] å›¾è¡¨æ˜¾ç¤ºæ­£å¸¸
- [ ] æŒ‰åˆ†ç±»/äº§åœ°ç»Ÿè®¡æ­£ç¡®
- [ ] å“åº”å¼è®¾è®¡è‰¯å¥½

---

### ç¬¬ä¸‰-å››å‘¨éªŒæ”¶æ ‡å‡†

**å†…å®¹é‡**:
- [ ] æ€»ä½œå®¶æ•° > 85
- [ ] åœ°åŸŸè¦†ç›–å®Œæ•´
- [ ] æ‰€æœ‰é™¶å™¨æ¡ç›®æœ‰å…³è”ä½œå®¶

**æ•°æ®è´¨é‡**:
- [ ] æ‰€æœ‰ä½œå®¶ç®€ä»‹ > 200å­—
- [ ] æ‰€æœ‰ä½œå®¶è‡³å°‘3ä¸ªå‚è€ƒæ¥æº
- [ ] æ— é‡å¤æ¡ç›®
- [ ] æ— æ˜æ˜¾é”™è¯¯ä¿¡æ¯
- [ ] Instagram æ•°æ®å‡†ç¡®

---

## é¡¹ç›®é‡Œç¨‹ç¢‘

### é‡Œç¨‹ç¢‘ 1: æ€§èƒ½ä¼˜åŒ–å®Œæˆ (ç¬¬ä¸€å‘¨æœ«)
- æ‰€æœ‰æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡
- Lighthouse åˆ†æ•° > 85
- ç”¨æˆ·ä½“éªŒæ˜¾è‘—æå‡

### é‡Œç¨‹ç¢‘ 2: ç®¡ç†åŠŸèƒ½å®Œå–„ (ç¬¬äºŒå‘¨æœ«)
- æ‰¹é‡æ“ä½œå¯ç”¨
- å®¡æ ¸æµç¨‹å»ºç«‹
- ç®¡ç†æ•ˆç‡æå‡ 50%+

### é‡Œç¨‹ç¢‘ 3: å†…å®¹æ‰©å±•å®Œæˆ (ç¬¬å››å‘¨æœ«)
- ä½œå®¶æ•°é‡ç¿»å€
- åœ°åŸŸè¦†ç›–å®Œæ•´
- å…³è”å…³ç³»å®Œå–„

### é‡Œç¨‹ç¢‘ 4: é˜¶æ®µ2å®Œæˆ (ç¬¬å…­å‘¨æœ«)
- æ‰€æœ‰è®¡åˆ’ä»»åŠ¡å®Œæˆ
- ç³»ç»Ÿç¨³å®šå¯é 
- å‡†å¤‡è¿›å…¥é˜¶æ®µ3

---

## é£é™©ç®¡ç†

### å·²è¯†åˆ«é£é™©

#### é£é™© 1: æ€§èƒ½ä¼˜åŒ–æ•ˆæœä¸è¾¾æ ‡
- **æ¦‚ç‡**: ä¸­
- **å½±å“**: é«˜
- **ç¼“è§£æªæ–½**:
  - å¤šè½®æµ‹è¯•å’Œè°ƒä¼˜
  - ä½¿ç”¨ Redis ç¼“å­˜ï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰
  - è€ƒè™‘ CDNï¼ˆå¦‚éœ€è¦ï¼‰

#### é£é™© 2: å†…å®¹ç ”ç©¶è€—æ—¶è¶…é¢„æœŸ
- **æ¦‚ç‡**: é«˜
- **å½±å“**: ä¸­
- **ç¼“è§£æªæ–½**:
  - è®¾å®šæ¯æ—¥æœ€ä½ç›®æ ‡
  - ä¼˜å…ˆè´¨é‡è€Œéæ•°é‡
  - å¯é€‚å½“å»¶é•¿æ—¶é—´çº¿

#### é£é™© 3: æ•°æ®åº“è¿ç§»å‡ºç°é—®é¢˜
- **æ¦‚ç‡**: ä½
- **å½±å“**: é«˜
- **ç¼“è§£æªæ–½**:
  - è¿ç§»å‰å®Œæ•´å¤‡ä»½
  - åœ¨å¼€å‘ç¯å¢ƒæµ‹è¯•
  - å‡†å¤‡å›æ»šæ–¹æ¡ˆ

---

## æ€»ç»“

**é˜¶æ®µ2ç›®æ ‡**:
- âœ… æ€§èƒ½æå‡ - é¦–é¡µ < 1ç§’ï¼Œè¯¦æƒ…é¡µ < 500ms
- âœ… åŠŸèƒ½å®Œå–„ - æ‰¹é‡ç¼–è¾‘ã€å®¡æ ¸æµç¨‹ã€ç»Ÿè®¡åˆ†æ
- âœ… å†…å®¹æ‰©å±• - 60 â†’ 85+ ä½œå®¶ï¼Œåœ°åŸŸè¦†ç›–å®Œæ•´
- âœ… è´¨é‡æå‡ - Lighthouse > 85ï¼Œæ•°æ®å®Œæ•´å‡†ç¡®

**é¢„æœŸå®Œæˆæ—¶é—´**: 4-6å‘¨

**ä¸‹ä¸€æ­¥**: è¿›å…¥é˜¶æ®µ3ï¼ˆé«˜çº§åŠŸèƒ½ + å•†åŸèåˆï¼‰

---

**æ–‡æ¡£åˆ›å»ºæ—¶é—´**: 2026-02-25
**è®¡åˆ’å¯åŠ¨æ—¥æœŸ**: 2026-02-26
**è®¡åˆ’åˆ¶å®šäºº**: Claude (Based on Phase 1 completion analysis)

---

## é™„å½•

### A. ç›¸å…³æ–‡æ¡£é“¾æ¥
- [é˜¶æ®µ1å®æ–½è®¡åˆ’](./phase-1-implementation-plan.md)
- [ä¸‰é˜¶æ®µå¼€å‘è®¡åˆ’](./2026-02-24-three-phase-development-plan.md)
- [æ¯æ—¥å·¥ä½œæ—¥å¿—](../DAILY-LOG.md)
- [API æ–‡æ¡£](../api.md)

### B. æœ‰ç”¨çš„å‘½ä»¤é€ŸæŸ¥

```bash
# æ•°æ®åº“
pnpm prisma studio                 # æ‰“å¼€ Prisma Studio
pnpm prisma migrate dev            # è¿è¡Œè¿ç§»
pnpm prisma db seed                # æ’­ç§æ•°æ®

# å¼€å‘
pnpm dev                           # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm build                         # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm start                         # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

# ä»£ç è´¨é‡
pnpm lint                          # ESLint æ£€æŸ¥
pnpm tsc --noEmit                  # TypeScript ç±»å‹æ£€æŸ¥

# Docker
docker start postgres-pottery      # å¯åŠ¨æ•°æ®åº“
docker ps                          # æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨
docker logs postgres-pottery       # æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—

# Git
git status                         # æŸ¥çœ‹çŠ¶æ€
git add .                          # æ·»åŠ æ‰€æœ‰æ›´æ”¹
git commit -m "message"            # æäº¤
git push origin branch-name        # æ¨é€
```

### C. ç´§æ€¥è”ç³»

é‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜æ—¶:
1. åœ¨ `docs/DAILY-LOG.md` çš„"é‡åˆ°çš„é—®é¢˜"åŒºåŸŸè¯¦ç»†è®°å½•
2. æš‚åœä»»åŠ¡ï¼Œé¿å…äº§ç”Ÿé”™è¯¯ä»£ç 
3. ç­‰å¾…ç”¨æˆ·ä»‹å…¥

---

**ç¥å¼€å‘é¡ºåˆ©ï¼ ğŸš€**
